<!DOCTYPE html>
<html dir='ltr' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<meta content='width=device-width, initial-scale=1' name='viewport'/>
<title>Fitting Bayesian structural time series with the bsts R package</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<!-- Chrome, Firefox OS and Opera -->
<meta content='#eaeaea' name='theme-color'/>
<!-- Windows Phone -->
<meta content='#eaeaea' name='msapplication-navbutton-color'/>
<meta content='blogger' name='generator'/>
<link href='http://www.unofficialgoogledatascience.com/favicon.ico' rel='icon' type='image/x-icon'/>
<link href='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="The Unofficial Google Data Science Blog - Atom" href="http://www.unofficialgoogledatascience.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="The Unofficial Google Data Science Blog - RSS" href="http://www.unofficialgoogledatascience.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="The Unofficial Google Data Science Blog - Atom" href="https://www.blogger.com/feeds/5825758052688213474/posts/default" />

<link rel="alternate" type="application/atom+xml" title="The Unofficial Google Data Science Blog - Atom" href="http://www.unofficialgoogledatascience.com/feeds/6693193164123748208/comments/default" />
<!--Can't find substitution for tag [blog.ieCssRetrofitLinks]-->
<link href='https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0' rel='image_src'/>
<meta content='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' property='og:url'/>
<meta content='Fitting Bayesian structural time series with the bsts R package' property='og:title'/>
<meta content='by STEVEN L. SCOTT   Time series data are everywhere, but time series modeling is a fairly specialized area within statistics and data scien...' property='og:description'/>
<meta content='https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0=w1200-h630-p-k-no-nu' property='og:image'/>
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<style type='text/css'>@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc3CsTKlA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc-CsTKlA.woff2)format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc2CsTKlA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc5CsTKlA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc1CsTKlA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc0CsTKlA.woff2)format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;src:local('Roboto Light Italic'),local('Roboto-LightItalic'),url(//fonts.gstatic.com/s/roboto/v19/KFOjCnqEu92Fr1Mu51TjASc6CsQ.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu72xKOzY.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu5mxKOzY.woff2)format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu7mxKOzY.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu4WxKOzY.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu7WxKOzY.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu7GxKOzY.woff2)format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(//fonts.gstatic.com/s/roboto/v19/KFOmCnqEu92Fr1Mu4mxK.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfCRc4EsA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfABc4EsA.woff2)format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfCBc4EsA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfBxc4EsA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfCxc4EsA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfChc4EsA.woff2)format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(//fonts.gstatic.com/s/roboto/v19/KFOlCnqEu92Fr1MmWUlfBBc4.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}</style>
<style id='page-skin-1' type='text/css'><!--
/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
/* 
<!-- Constants -->

<Variable name="damionRegular36" description="Damion Regular 36" type="font" default="400 36px Damion, cursive" hideEditor="true" />
<Variable name="damionRegular62" description="Damion Regular 62" type="font" default="400 62px Damion, cursive" hideEditor="true" />
<Variable name="playfairDisplayBlack28" description="Playfair Display Black 28" type="font" default="900 28px Playfair Display, serif" hideEditor="true" />
<Variable name="playfairDisplayBlack36" description="Playfair Display Black 36" type="font" default="900 36px Playfair Display, serif" hideEditor="true" />
<Variable name="playfairDisplayBlack44" description="Playfair Display Black 44" type="font" default="900 44px Playfair Display, serif" hideEditor="true" />
<Variable name="robotoNormal15" description="Roboto Normal 15" type="font" default="15px Roboto, sans-serif" hideEditor="true" />
<Variable name="robotoNormal16" description="Roboto Normal 16" type="font" default="16px Roboto, sans-serif" hideEditor="true" />
<Variable name="robotoLightItalic15" description="Roboto Light Italic 15" type="font" default="italic 300 15px Roboto, sans-serif" hideEditor="true" />
<Variable name="robotoBold22" description="Roboto Bold 22" type="font" default="bold 22px Roboto, sans-serif" hideEditor="true" />
<Variable name="robotoBold30" description="Roboto Bold 30" type="font" default="bold 30px Roboto, sans-serif" hideEditor="true" />
<Variable name="robotoBold45" description="Roboto Bold 45" type="font" default="bold 45px Roboto, sans-serif" hideEditor="true" />

<!-- Variable definitions -->

<Variable name="keycolor" description="Main Color" type="color" default="#2196f3" />
<Variable name="startSide" description="Start side in blog language" type="automatic" default="left" hideEditor="true" />
<Variable name="endSide" description="End side in blog language" type="automatic" default="right" hideEditor="true" />

<Group description="Page Text">
  <Variable name="body.text.font" description="Font"
      type="font"
      default="15px Roboto, sans-serif" />
  <Variable name="body.text.color" description="Color"
      type="color"
      default="#757575" />
</Group>

<Group description="Backgrounds">
  <Variable name="body.background.height" description="Background height"
      type="length"
      min="420px"
      max="640px"
      default="480px" />
  <Variable name="body.background" description="Background"
      color="#eaeaea"
      type="background"
      default="$(color) none repeat scroll top left" />
  <Variable name="body.background.color" description="Body background color"
      type="color"
      default="#eee" />
  <Variable name="posts.background.color" description="Post background color"
      type="color"
      default="#fff" />
  <Variable name="body.background.blur" description="Background blur"
      type="length"
      min="0px"
      max="50px"
      default="0px" />
</Group>

<Group description="Links">
  <Variable name="body.link.color" description="Link color"
      type="color"
      default="#2196f3" />
  <Variable name="body.link.visited.color" description="Visited link color"
      type="color"
      default="#3c79a7" />
  <Variable name="body.link.hover.color" description="Link Hover Color"
      type="color"
      default="#3c79a7" />
</Group>

<Group description="Blog title" selector="div.widget.Header">
  <Variable name="blog.title.font" description="Font"
      type="font"
      default="bold 45px Roboto, sans-serif" />
  <Variable name="blog.title.color" description="Color"
      type="color"
      default="#fff" />
  <Variable name="header.icons.color"
      description="Background icons color"
      type="color"
      default="#fff" />
</Group>

<Group description="Tabs text" selector="div.widget.PageList">
  <Variable name="tabs.font" description="Font"
      type="font"
      family="Roboto, sans-serif"
      size="15px"
      default="700 normal $(size) $(family)" />
  <Variable name="tabs.color" description="Text color"
      type="color"
      default="#ccc" />
  <Variable name="tabs.selected.color" description="Selected color"
      type="color"
      default="#fff" />
  <Variable name="tabs.overflow.background.color" description="Popup background color"
      type="color"
      default="#ffffff" />
  <Variable name="tabs.overflow.color" description="Popup text color"
      type="color"
      default="#4e4e4e" />
  <Variable name="tabs.overflow.selected.color" description="Popup selected color"
      type="color"
      default="#3b3b3b" />
</Group>

<Group description="Posts" selector="div.widget.Blog">
  <Variable name="posts.title.color" description="Post title color"
      type="color"
      default="#212121" />
  <Variable name="posts.title.font" description="Post title font"
      type="font"
      default="bold 22px Roboto, sans-serif" />
  <Variable name="posts.stream.title.font" description="Post title stream font"
      type="font"
      default="bold 30px Roboto, sans-serif" />
  <Variable name="posts.text.font" description="Post text font"
      type="font"
      default="15px Roboto, sans-serif" />
  <Variable name="posts.text.color" description="Post text color"
      type="color"
      default="#666666" />
  <Variable name="posts.byline.color" description="Post byline color"
      type="color"
      default="rgba(0, 0, 0, 0.54)" />
  <Variable name="blockquote.font" description="Blockquote font"
      type="font"
      default="italic 300 15px Roboto, sans-serif" />
  <Variable name="blockquote.color" description="Blockquote color"
      type="color"
      default="#444" />
  <Variable name="posts.icons.color"
      description="Post icons color"
      type="color"
      default="#707070" />
</Group>

<Group description="Search">
  <Variable name="search.input.color" description="Input color"
      type="color"
      default="#ffffff" />
  <Variable name="search.input.font" description="Input font"
      type="font"
      default="16px Roboto, sans-serif" />
  <Variable name="search.placeholder.color" description="Placeholder text color"
      type="color"
      default="#ffffff" />
</Group>

<Group description="Sharing">
  <Variable name="sharing.background.color"
      description="Sharing background color"
      type="color"
      default="#ffffff" />
  <Variable name="sharing.text.color" description="Sharing text color"
      type="color"
      default="#3b3b3b" />
  <Variable name="sharing.icons.color"
      description="Sharing icons color"
      type="color"
      default="#212121" />
</Group>

<Group description="Popular posts" selector="div.widget.PopularPosts">
  <Variable name="popularposts.background.color"
      description="Popular post background color"
      type="color"
      default="#eaeaea" />
  <Variable name="popularposts.byline.color"
      description="Popular post byline color"
      type="color"
      default="rgba(0, 0, 0, 0.54)" />
  <Variable name="popularposts.title.color"
      description="Popular post title color"
      type="color"
      default="#3b3b3b" />
  <Variable name="popularposts.text.color"
      description="Popular post text color"
      type="color"
      default="#4e4e4e" />
  <Variable name="popularposts.link.color"
      description="Popular post link color"
      type="color"
      default="#3c79a7" />
</Group>

<Group description="Post navigation" selector='div.blog-pager'>
  <Variable name="posts.navigation.link.color"
      description="Post navigation links color"
      type="color"
      default="#3c79a7" />
  <Variable name="posts.navigation.link.visited.color"
      description="Post navigation links visited color"
      type="color"
      default="#3c79a7" />
  <Variable name="posts.navigation.link.hover.color"
      description="Post navigations links hover color"
      type="color"
      default="#2196f3" />
</Group>

<Group description="Sidebar" selector="div.sidebar-container">
  <Variable name="sidebar.backgroundColorTop"
      description="Background color (Top)"
      type="color"
      default="#f7f7f7" />
  <Variable name="sidebar.backgroundColorTopHD"
      description="Background color (Top) - HD"
      type="color"
      default="rgba(255, 255, 255, 1)" />
  <Variable name="sidebar.backgroundColorBottom"
      description="Background color (Bottom)"
      type="color"
      default="#fff" />
  <Variable name="sidebar.separator.color"
      description="Separator color"
      type="color"
      default="#ccc" />
  <Variable name="widget.title.color"
      description="Gadget title color"
      type="color"
      default="#212121" />
  <Variable name="sidebar.icons.color"
      description="Sidebar icons color"
      type="color"
      default="#707070" />
</Group>

<Group description="Author profile" selector='.widget.Profile'>
  <Variable name="profile.title.color" description="Profile title color"
      type="color"
      default="rgba(0,0,0,0.52)" />
  <Variable name="profile.text.color" description="Profile text color"
      type="color"
      default="rgba(0, 0, 0, 0.54)" />
  <Variable name="profile.link.color" description="Profile link color"
      type="color"
      default="#3b3b3b" />
</Group>

<Group description="Labels" selector=".widget.Label">
  <Variable name="labels.text.color"
      description="Label text color"
      type="color"
      default="#3c79a7" />
  <Variable name="labels.background.color"
      description="Label background color"
      type="color"
      red="0"
      green="0"
      blue="0"
      default="rgba($red, $green, $blue, 0.05)" />
</Group>

<Group description="Attribution" selector=".widget.Attribution">
  <Variable name="attribution.text.color" description="Attribution text color"
      type="color"
      default="#666666" />
  <Variable name="attribution.link.color" description="Attribution link color"
      type="color"
      default="#3c79a7" />
  <Variable name="attribution.icon.color" description="Attribution icon color"
      type="color"
      default="#707070"
      hideEditor="true" />
</Group>

<Group description="Widths">
  <Variable name="sidebar.width" description="Sidebar width" type="length"
            min="100px" max="1000px" default="284px" />
  <Variable name="content.width" description="Content width" type="length"
            min="600px" max="2400px" default="922px" />
  <Variable name="content.margin" description="Content margin" type="length"
            min="0px" max="1000px" default="117px" />
</Group>
 */

/*!************************************************
 * Blogger Template Style
 * Name: Contempo
 **************************************************/
body{
overflow-wrap:break-word;
word-break:break-word;
word-wrap:break-word
}
.hidden{
display:none
}
.invisible{
visibility:hidden
}
.container::after,.float-container::after{
clear:both;
content:"";
display:table
}
.clearboth{
clear:both
}
#comments .comment .comment-actions,.subscribe-popup .FollowByEmail .follow-by-email-submit,.widget.Profile .profile-link,.widget.Profile .profile-link.visit-profile{
background:0 0;
border:0;
box-shadow:none;
color:#3c79a7;
cursor:pointer;
font-size:14px;
font-weight:700;
outline:0;
text-decoration:none;
text-transform:uppercase;
width:auto
}
.dim-overlay{
background-color:rgba(0,0,0,.54);
height:100vh;
left:0;
position:fixed;
top:0;
width:100%
}
#sharing-dim-overlay{
background-color:transparent
}
input::-ms-clear{
display:none
}
.blogger-logo,.svg-icon-24.blogger-logo{
fill:#ff9800;
opacity:1
}
.loading-spinner-large{
-webkit-animation:mspin-rotate 1.568s infinite linear;
animation:mspin-rotate 1.568s infinite linear;
height:48px;
overflow:hidden;
position:absolute;
width:48px;
z-index:200
}
.loading-spinner-large>div{
-webkit-animation:mspin-revrot 5332ms infinite steps(4);
animation:mspin-revrot 5332ms infinite steps(4)
}
.loading-spinner-large>div>div{
-webkit-animation:mspin-singlecolor-large-film 1333ms infinite steps(81);
animation:mspin-singlecolor-large-film 1333ms infinite steps(81);
background-size:100%;
height:48px;
width:3888px
}
.mspin-black-large>div>div,.mspin-grey_54-large>div>div{
background-image:url(https://www.blogblog.com/indie/mspin_black_large.svg)
}
.mspin-white-large>div>div{
background-image:url(https://www.blogblog.com/indie/mspin_white_large.svg)
}
.mspin-grey_54-large{
opacity:.54
}
@-webkit-keyframes mspin-singlecolor-large-film{
from{
-webkit-transform:translateX(0);
transform:translateX(0)
}
to{
-webkit-transform:translateX(-3888px);
transform:translateX(-3888px)
}
}
@keyframes mspin-singlecolor-large-film{
from{
-webkit-transform:translateX(0);
transform:translateX(0)
}
to{
-webkit-transform:translateX(-3888px);
transform:translateX(-3888px)
}
}
@-webkit-keyframes mspin-rotate{
from{
-webkit-transform:rotate(0);
transform:rotate(0)
}
to{
-webkit-transform:rotate(360deg);
transform:rotate(360deg)
}
}
@keyframes mspin-rotate{
from{
-webkit-transform:rotate(0);
transform:rotate(0)
}
to{
-webkit-transform:rotate(360deg);
transform:rotate(360deg)
}
}
@-webkit-keyframes mspin-revrot{
from{
-webkit-transform:rotate(0);
transform:rotate(0)
}
to{
-webkit-transform:rotate(-360deg);
transform:rotate(-360deg)
}
}
@keyframes mspin-revrot{
from{
-webkit-transform:rotate(0);
transform:rotate(0)
}
to{
-webkit-transform:rotate(-360deg);
transform:rotate(-360deg)
}
}
.skip-navigation{
background-color:#fff;
box-sizing:border-box;
color:#000;
display:block;
height:0;
left:0;
line-height:50px;
overflow:hidden;
padding-top:0;
position:fixed;
text-align:center;
top:0;
-webkit-transition:box-shadow .3s,height .3s,padding-top .3s;
transition:box-shadow .3s,height .3s,padding-top .3s;
width:100%;
z-index:900
}
.skip-navigation:focus{
box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);
height:50px
}
#main{
outline:0
}
.main-heading{
position:absolute;
clip:rect(1px,1px,1px,1px);
padding:0;
border:0;
height:1px;
width:1px;
overflow:hidden
}
.Attribution{
margin-top:1em;
text-align:center
}
.Attribution .blogger img,.Attribution .blogger svg{
vertical-align:bottom
}
.Attribution .blogger img{
margin-right:.5em
}
.Attribution div{
line-height:24px;
margin-top:.5em
}
.Attribution .copyright,.Attribution .image-attribution{
font-size:.7em;
margin-top:1.5em
}
.BLOG_mobile_video_class{
display:none
}
.bg-photo{
background-attachment:scroll!important
}
body .CSS_LIGHTBOX{
z-index:900
}
.extendable .show-less,.extendable .show-more{
border-color:#3c79a7;
color:#3c79a7;
margin-top:8px
}
.extendable .show-less.hidden,.extendable .show-more.hidden{
display:none
}
.inline-ad{
display:none;
max-width:100%;
overflow:hidden
}
.adsbygoogle{
display:block
}
#cookieChoiceInfo{
bottom:0;
top:auto
}
iframe.b-hbp-video{
border:0
}
.post-body img{
max-width:100%
}
.post-body iframe{
max-width:100%
}
.post-body a[imageanchor="1"]{
display:inline-block
}
.byline{
margin-right:1em
}
.byline:last-child{
margin-right:0
}
.link-copied-dialog{
max-width:520px;
outline:0
}
.link-copied-dialog .modal-dialog-buttons{
margin-top:8px
}
.link-copied-dialog .goog-buttonset-default{
background:0 0;
border:0
}
.link-copied-dialog .goog-buttonset-default:focus{
outline:0
}
.paging-control-container{
margin-bottom:16px
}
.paging-control-container .paging-control{
display:inline-block
}
.paging-control-container .comment-range-text::after,.paging-control-container .paging-control{
color:#3c79a7
}
.paging-control-container .comment-range-text,.paging-control-container .paging-control{
margin-right:8px
}
.paging-control-container .comment-range-text::after,.paging-control-container .paging-control::after{
content:"\b7";
cursor:default;
padding-left:8px;
pointer-events:none
}
.paging-control-container .comment-range-text:last-child::after,.paging-control-container .paging-control:last-child::after{
content:none
}
.byline.reactions iframe{
height:20px
}
.b-notification{
color:#000;
background-color:#fff;
border-bottom:solid 1px #000;
box-sizing:border-box;
padding:16px 32px;
text-align:center
}
.b-notification.visible{
-webkit-transition:margin-top .3s cubic-bezier(.4,0,.2,1);
transition:margin-top .3s cubic-bezier(.4,0,.2,1)
}
.b-notification.invisible{
position:absolute
}
.b-notification-close{
position:absolute;
right:8px;
top:8px
}
.no-posts-message{
line-height:40px;
text-align:center
}
@media screen and (max-width:800px){
body.item-view .post-body a[imageanchor="1"][style*="float: left;"],body.item-view .post-body a[imageanchor="1"][style*="float: right;"]{
float:none!important;
clear:none!important
}
body.item-view .post-body a[imageanchor="1"] img{
display:block;
height:auto;
margin:0 auto
}
body.item-view .post-body>.separator:first-child>a[imageanchor="1"]:first-child{
margin-top:20px
}
.post-body a[imageanchor]{
display:block
}
body.item-view .post-body a[imageanchor="1"]{
margin-left:0!important;
margin-right:0!important
}
body.item-view .post-body a[imageanchor="1"]+a[imageanchor="1"]{
margin-top:16px
}
}
.item-control{
display:none
}
#comments{
border-top:1px dashed rgba(0,0,0,.54);
margin-top:20px;
padding:20px
}
#comments .comment-thread ol{
margin:0;
padding-left:0;
padding-left:0
}
#comments .comment .comment-replybox-single,#comments .comment-thread .comment-replies{
margin-left:60px
}
#comments .comment-thread .thread-count{
display:none
}
#comments .comment{
list-style-type:none;
padding:0 0 30px;
position:relative
}
#comments .comment .comment{
padding-bottom:8px
}
.comment .avatar-image-container{
position:absolute
}
.comment .avatar-image-container img{
border-radius:50%
}
.avatar-image-container svg,.comment .avatar-image-container .avatar-icon{
border-radius:50%;
border:solid 1px #5b5b5b;
box-sizing:border-box;
fill:#5b5b5b;
height:35px;
margin:0;
padding:7px;
width:35px
}
.comment .comment-block{
margin-top:10px;
margin-left:60px;
padding-bottom:0
}
#comments .comment-author-header-wrapper{
margin-left:40px
}
#comments .comment .thread-expanded .comment-block{
padding-bottom:20px
}
#comments .comment .comment-header .user,#comments .comment .comment-header .user a{
color:#3b3b3b;
font-style:normal;
font-weight:700
}
#comments .comment .comment-actions{
bottom:0;
margin-bottom:15px;
position:absolute
}
#comments .comment .comment-actions>*{
margin-right:8px
}
#comments .comment .comment-header .datetime{
bottom:0;
color:rgba(59,59,59,.54);
display:inline-block;
font-size:13px;
font-style:italic;
margin-left:8px
}
#comments .comment .comment-footer .comment-timestamp a,#comments .comment .comment-header .datetime a{
color:rgba(59,59,59,.54)
}
#comments .comment .comment-content,.comment .comment-body{
margin-top:12px;
word-break:break-word
}
.comment-body{
margin-bottom:12px
}
#comments.embed[data-num-comments="0"]{
border:0;
margin-top:0;
padding-top:0
}
#comments.embed[data-num-comments="0"] #comment-post-message,#comments.embed[data-num-comments="0"] div.comment-form>p,#comments.embed[data-num-comments="0"] p.comment-footer{
display:none
}
#comment-editor-src{
display:none
}
.comments .comments-content .loadmore.loaded{
max-height:0;
opacity:0;
overflow:hidden
}
.extendable .remaining-items{
height:0;
overflow:hidden;
-webkit-transition:height .3s cubic-bezier(.4,0,.2,1);
transition:height .3s cubic-bezier(.4,0,.2,1)
}
.extendable .remaining-items.expanded{
height:auto
}
.svg-icon-24,.svg-icon-24-button{
cursor:pointer;
height:24px;
width:24px;
min-width:24px
}
.touch-icon{
margin:-12px;
padding:12px
}
.touch-icon:active,.touch-icon:focus{
background-color:rgba(153,153,153,.4);
border-radius:50%
}
svg:not(:root).touch-icon{
overflow:visible
}
html[dir=rtl] .rtl-reversible-icon{
-webkit-transform:scaleX(-1);
-ms-transform:scaleX(-1);
transform:scaleX(-1)
}
.svg-icon-24-button,.touch-icon-button{
background:0 0;
border:0;
margin:0;
outline:0;
padding:0
}
.touch-icon-button .touch-icon:active,.touch-icon-button .touch-icon:focus{
background-color:transparent
}
.touch-icon-button:active .touch-icon,.touch-icon-button:focus .touch-icon{
background-color:rgba(153,153,153,.4);
border-radius:50%
}
.Profile .default-avatar-wrapper .avatar-icon{
border-radius:50%;
border:solid 1px #5b5b5b;
box-sizing:border-box;
fill:#5b5b5b;
margin:0
}
.Profile .individual .default-avatar-wrapper .avatar-icon{
padding:25px
}
.Profile .individual .avatar-icon,.Profile .individual .profile-img{
height:120px;
width:120px
}
.Profile .team .default-avatar-wrapper .avatar-icon{
padding:8px
}
.Profile .team .avatar-icon,.Profile .team .default-avatar-wrapper,.Profile .team .profile-img{
height:40px;
width:40px
}
.snippet-container{
margin:0;
position:relative;
overflow:hidden
}
.snippet-fade{
bottom:0;
box-sizing:border-box;
position:absolute;
width:96px
}
.snippet-fade{
right:0
}
.snippet-fade:after{
content:"\2026"
}
.snippet-fade:after{
float:right
}
.post-bottom{
-webkit-box-align:center;
-webkit-align-items:center;
-ms-flex-align:center;
align-items:center;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-wrap:wrap;
-ms-flex-wrap:wrap;
flex-wrap:wrap
}
.post-footer{
-webkit-box-flex:1;
-webkit-flex:1 1 auto;
-ms-flex:1 1 auto;
flex:1 1 auto;
-webkit-flex-wrap:wrap;
-ms-flex-wrap:wrap;
flex-wrap:wrap;
-webkit-box-ordinal-group:2;
-webkit-order:1;
-ms-flex-order:1;
order:1
}
.post-footer>*{
-webkit-box-flex:0;
-webkit-flex:0 1 auto;
-ms-flex:0 1 auto;
flex:0 1 auto
}
.post-footer .byline:last-child{
margin-right:1em
}
.jump-link{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto;
-webkit-box-ordinal-group:3;
-webkit-order:2;
-ms-flex-order:2;
order:2
}
.centered-top-container.sticky{
left:0;
position:fixed;
right:0;
top:0;
width:auto;
z-index:50;
-webkit-transition-property:opacity,-webkit-transform;
transition-property:opacity,-webkit-transform;
transition-property:transform,opacity;
transition-property:transform,opacity,-webkit-transform;
-webkit-transition-duration:.2s;
transition-duration:.2s;
-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);
transition-timing-function:cubic-bezier(.4,0,.2,1)
}
.centered-top-placeholder{
display:none
}
.collapsed-header .centered-top-placeholder{
display:block
}
.centered-top-container .Header .replaced h1,.centered-top-placeholder .Header .replaced h1{
display:none
}
.centered-top-container.sticky .Header .replaced h1{
display:block
}
.centered-top-container.sticky .Header .header-widget{
background:0 0
}
.centered-top-container.sticky .Header .header-image-wrapper{
display:none
}
.centered-top-container img,.centered-top-placeholder img{
max-width:100%
}
.collapsible{
-webkit-transition:height .3s cubic-bezier(.4,0,.2,1);
transition:height .3s cubic-bezier(.4,0,.2,1)
}
.collapsible,.collapsible>summary{
display:block;
overflow:hidden
}
.collapsible>:not(summary){
display:none
}
.collapsible[open]>:not(summary){
display:block
}
.collapsible:focus,.collapsible>summary:focus{
outline:0
}
.collapsible>summary{
cursor:pointer;
display:block;
padding:0
}
.collapsible:focus>summary,.collapsible>summary:focus{
background-color:transparent
}
.collapsible>summary::-webkit-details-marker{
display:none
}
.collapsible-title{
-webkit-box-align:center;
-webkit-align-items:center;
-ms-flex-align:center;
align-items:center;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex
}
.collapsible-title .title{
-webkit-box-flex:1;
-webkit-flex:1 1 auto;
-ms-flex:1 1 auto;
flex:1 1 auto;
-webkit-box-ordinal-group:1;
-webkit-order:0;
-ms-flex-order:0;
order:0;
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap
}
.collapsible-title .chevron-down,.collapsible[open] .collapsible-title .chevron-up{
display:block
}
.collapsible-title .chevron-up,.collapsible[open] .collapsible-title .chevron-down{
display:none
}
.flat-button{
cursor:pointer;
display:inline-block;
font-weight:700;
text-transform:uppercase;
border-radius:2px;
padding:8px;
margin:-8px
}
.flat-icon-button{
background:0 0;
border:0;
margin:0;
outline:0;
padding:0;
margin:-12px;
padding:12px;
cursor:pointer;
box-sizing:content-box;
display:inline-block;
line-height:0
}
.flat-icon-button,.flat-icon-button .splash-wrapper{
border-radius:50%
}
.flat-icon-button .splash.animate{
-webkit-animation-duration:.3s;
animation-duration:.3s
}
.overflowable-container{
max-height:46px;
overflow:hidden;
position:relative
}
.overflow-button{
cursor:pointer
}
#overflowable-dim-overlay{
background:0 0
}
.overflow-popup{
box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);
background-color:#ffffff;
left:0;
max-width:calc(100% - 32px);
position:absolute;
top:0;
visibility:hidden;
z-index:101
}
.overflow-popup ul{
list-style:none
}
.overflow-popup .tabs li,.overflow-popup li{
display:block;
height:auto
}
.overflow-popup .tabs li{
padding-left:0;
padding-right:0
}
.overflow-button.hidden,.overflow-popup .tabs li.hidden,.overflow-popup li.hidden{
display:none
}
.pill-button{
background:0 0;
border:1px solid;
border-radius:12px;
cursor:pointer;
display:inline-block;
padding:4px 16px;
text-transform:uppercase
}
.ripple{
position:relative
}
.ripple>*{
z-index:1
}
.splash-wrapper{
bottom:0;
left:0;
overflow:hidden;
pointer-events:none;
position:absolute;
right:0;
top:0;
z-index:0
}
.splash{
background:#ccc;
border-radius:100%;
display:block;
opacity:.6;
position:absolute;
-webkit-transform:scale(0);
-ms-transform:scale(0);
transform:scale(0)
}
.splash.animate{
-webkit-animation:ripple-effect .4s linear;
animation:ripple-effect .4s linear
}
@-webkit-keyframes ripple-effect{
100%{
opacity:0;
-webkit-transform:scale(2.5);
transform:scale(2.5)
}
}
@keyframes ripple-effect{
100%{
opacity:0;
-webkit-transform:scale(2.5);
transform:scale(2.5)
}
}
.search{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
line-height:24px;
width:24px
}
.search.focused{
width:100%
}
.search.focused .section{
width:100%
}
.search form{
z-index:101
}
.search h3{
display:none
}
.search form{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-flex:1;
-webkit-flex:1 0 0;
-ms-flex:1 0 0px;
flex:1 0 0;
border-bottom:solid 1px transparent;
padding-bottom:8px
}
.search form>*{
display:none
}
.search.focused form>*{
display:block
}
.search .search-input label{
display:none
}
.centered-top-placeholder.cloned .search form{
z-index:30
}
.search.focused form{
border-color:#ffffff;
position:relative;
width:auto
}
.collapsed-header .centered-top-container .search.focused form{
border-bottom-color:transparent
}
.search-expand{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto
}
.search-expand-text{
display:none
}
.search-close{
display:inline;
vertical-align:middle
}
.search-input{
-webkit-box-flex:1;
-webkit-flex:1 0 1px;
-ms-flex:1 0 1px;
flex:1 0 1px
}
.search-input input{
background:0 0;
border:0;
box-sizing:border-box;
color:#ffffff;
display:inline-block;
outline:0;
width:calc(100% - 48px)
}
.search-input input.no-cursor{
color:transparent;
text-shadow:0 0 0 #ffffff
}
.collapsed-header .centered-top-container .search-action,.collapsed-header .centered-top-container .search-input input{
color:#3b3b3b
}
.collapsed-header .centered-top-container .search-input input.no-cursor{
color:transparent;
text-shadow:0 0 0 #3b3b3b
}
.collapsed-header .centered-top-container .search-input input.no-cursor:focus,.search-input input.no-cursor:focus{
outline:0
}
.search-focused>*{
visibility:hidden
}
.search-focused .search,.search-focused .search-icon{
visibility:visible
}
.search.focused .search-action{
display:block
}
.search.focused .search-action:disabled{
opacity:.3
}
.widget.Sharing .sharing-button{
display:none
}
.widget.Sharing .sharing-buttons li{
padding:0
}
.widget.Sharing .sharing-buttons li span{
display:none
}
.post-share-buttons{
position:relative
}
.centered-bottom .share-buttons .svg-icon-24,.share-buttons .svg-icon-24{
fill:#212121
}
.sharing-open.touch-icon-button:active .touch-icon,.sharing-open.touch-icon-button:focus .touch-icon{
background-color:transparent
}
.share-buttons{
background-color:#ffffff;
border-radius:2px;
box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);
color:#212121;
list-style:none;
margin:0;
padding:8px 0;
position:absolute;
top:-11px;
min-width:200px;
z-index:101
}
.share-buttons.hidden{
display:none
}
.sharing-button{
background:0 0;
border:0;
margin:0;
outline:0;
padding:0;
cursor:pointer
}
.share-buttons li{
margin:0;
height:48px
}
.share-buttons li:last-child{
margin-bottom:0
}
.share-buttons li .sharing-platform-button{
box-sizing:border-box;
cursor:pointer;
display:block;
height:100%;
margin-bottom:0;
padding:0 16px;
position:relative;
width:100%
}
.share-buttons li .sharing-platform-button:focus,.share-buttons li .sharing-platform-button:hover{
background-color:rgba(128,128,128,.1);
outline:0
}
.share-buttons li svg[class*=" sharing-"],.share-buttons li svg[class^=sharing-]{
position:absolute;
top:10px
}
.share-buttons li span.sharing-platform-button{
position:relative;
top:0
}
.share-buttons li .platform-sharing-text{
display:block;
font-size:16px;
line-height:48px;
white-space:nowrap
}
.share-buttons li .platform-sharing-text{
margin-left:56px
}
.sidebar-container{
background-color:#ffffff;
max-width:284px;
overflow-y:auto;
-webkit-transition-property:-webkit-transform;
transition-property:-webkit-transform;
transition-property:transform;
transition-property:transform,-webkit-transform;
-webkit-transition-duration:.3s;
transition-duration:.3s;
-webkit-transition-timing-function:cubic-bezier(0,0,.2,1);
transition-timing-function:cubic-bezier(0,0,.2,1);
width:284px;
z-index:101;
-webkit-overflow-scrolling:touch
}
.sidebar-container .navigation{
line-height:0;
padding:16px
}
.sidebar-container .sidebar-back{
cursor:pointer
}
.sidebar-container .widget{
background:0 0;
margin:0 16px;
padding:16px 0
}
.sidebar-container .widget .title{
color:#000000;
margin:0
}
.sidebar-container .widget ul{
list-style:none;
margin:0;
padding:0
}
.sidebar-container .widget ul ul{
margin-left:1em
}
.sidebar-container .widget li{
font-size:16px;
line-height:normal
}
.sidebar-container .widget+.widget{
border-top:1px dashed #c6c6c6
}
.BlogArchive li{
margin:16px 0
}
.BlogArchive li:last-child{
margin-bottom:0
}
.Label li a{
display:inline-block
}
.BlogArchive .post-count,.Label .label-count{
float:right;
margin-left:.25em
}
.BlogArchive .post-count::before,.Label .label-count::before{
content:"("
}
.BlogArchive .post-count::after,.Label .label-count::after{
content:")"
}
.widget.Translate .skiptranslate>div{
display:block!important
}
.widget.Profile .profile-link{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex
}
.widget.Profile .team-member .default-avatar-wrapper,.widget.Profile .team-member .profile-img{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto;
margin-right:1em
}
.widget.Profile .individual .profile-link{
-webkit-box-orient:vertical;
-webkit-box-direction:normal;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column
}
.widget.Profile .team .profile-link .profile-name{
-webkit-align-self:center;
-ms-flex-item-align:center;
align-self:center;
display:block;
-webkit-box-flex:1;
-webkit-flex:1 1 auto;
-ms-flex:1 1 auto;
flex:1 1 auto
}
.dim-overlay{
background-color:rgba(0,0,0,.54);
z-index:100
}
body.sidebar-visible{
overflow-y:hidden
}
@media screen and (max-width:1439px){
.sidebar-container{
bottom:0;
position:fixed;
top:0;
left:0;
right:auto
}
.sidebar-container.sidebar-invisible{
-webkit-transition-timing-function:cubic-bezier(.4,0,.6,1);
transition-timing-function:cubic-bezier(.4,0,.6,1);
-webkit-transform:translateX(-284px);
-ms-transform:translateX(-284px);
transform:translateX(-284px)
}
}
@media screen and (min-width:1440px){
.sidebar-container{
position:absolute;
top:0;
left:0;
right:auto
}
.sidebar-container .navigation{
display:none
}
}
.dialog{
box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);
background:#ffffff;
box-sizing:border-box;
color:#666666;
padding:30px;
position:fixed;
text-align:center;
width:calc(100% - 24px);
z-index:101
}
.dialog input[type=email],.dialog input[type=text]{
background-color:transparent;
border:0;
border-bottom:solid 1px rgba(102,102,102,.12);
color:#666666;
display:block;
font-family:Roboto, sans-serif;
font-size:16px;
line-height:24px;
margin:auto;
padding-bottom:7px;
outline:0;
text-align:center;
width:100%
}
.dialog input[type=email]::-webkit-input-placeholder,.dialog input[type=text]::-webkit-input-placeholder{
color:#666666
}
.dialog input[type=email]::-moz-placeholder,.dialog input[type=text]::-moz-placeholder{
color:#666666
}
.dialog input[type=email]:-ms-input-placeholder,.dialog input[type=text]:-ms-input-placeholder{
color:#666666
}
.dialog input[type=email]::-ms-input-placeholder,.dialog input[type=text]::-ms-input-placeholder{
color:#666666
}
.dialog input[type=email]::placeholder,.dialog input[type=text]::placeholder{
color:#666666
}
.dialog input[type=email]:focus,.dialog input[type=text]:focus{
border-bottom:solid 2px #3c79a7;
padding-bottom:6px
}
.dialog input.no-cursor{
color:transparent;
text-shadow:0 0 0 #666666
}
.dialog input.no-cursor:focus{
outline:0
}
.dialog input.no-cursor:focus{
outline:0
}
.dialog input[type=submit]{
font-family:Roboto, sans-serif
}
.dialog .goog-buttonset-default{
color:#3c79a7
}
.subscribe-popup{
max-width:364px
}
.subscribe-popup h3{
color:#3b3b3b;
font-size:1.8em;
margin-top:0
}
.subscribe-popup .FollowByEmail h3{
display:none
}
.subscribe-popup .FollowByEmail .follow-by-email-submit{
color:#3c79a7;
display:inline-block;
margin:0 auto;
margin-top:24px;
width:auto;
white-space:normal
}
.subscribe-popup .FollowByEmail .follow-by-email-submit:disabled{
cursor:default;
opacity:.3
}
@media (max-width:800px){
.blog-name div.widget.Subscribe{
margin-bottom:16px
}
body.item-view .blog-name div.widget.Subscribe{
margin:8px auto 16px auto;
width:100%
}
}
.tabs{
list-style:none
}
.tabs li{
display:inline-block
}
.tabs li a{
cursor:pointer;
display:inline-block;
font-weight:700;
text-transform:uppercase;
padding:12px 8px
}
.tabs .selected{
border-bottom:4px solid #ffffff
}
.tabs .selected a{
color:#ffffff
}
body#layout .bg-photo,body#layout .bg-photo-overlay{
display:none
}
body#layout .page_body{
padding:0;
position:relative;
top:0
}
body#layout .page{
display:inline-block;
left:inherit;
position:relative;
vertical-align:top;
width:540px
}
body#layout .centered{
max-width:954px
}
body#layout .navigation{
display:none
}
body#layout .sidebar-container{
display:inline-block;
width:40%
}
body#layout .hamburger-menu,body#layout .search{
display:none
}
.centered-top-container .svg-icon-24,body.collapsed-header .centered-top-placeholder .svg-icon-24{
fill:#ffffff
}
.sidebar-container .svg-icon-24{
fill:#5b5b5b
}
.centered-bottom .svg-icon-24,body.collapsed-header .centered-top-container .svg-icon-24{
fill:#5b5b5b
}
.centered-bottom .share-buttons .svg-icon-24,.share-buttons .svg-icon-24{
fill:#212121
}
body{
background-color:#eaeaea;
color:#666666;
font:15px Roboto, sans-serif;
margin:0;
min-height:100vh
}
img{
max-width:100%
}
h3{
color:#666666;
font-size:16px
}
a{
text-decoration:none;
color:#3c79a7
}
a:visited{
color:#3c79a7
}
a:hover{
color:#2196f3
}
blockquote{
color:#000000;
font:italic 300 15px Roboto, sans-serif;
font-size:x-large;
text-align:center
}
.pill-button{
font-size:12px
}
.bg-photo-container{
height:470px;
overflow:hidden;
position:absolute;
width:100%;
z-index:1
}
.bg-photo{
background:#eaeaea url(http://2.bp.blogspot.com/-x4SlpiHfSJ8/Vyjtmvpt5kI/AAAAAAAADn4/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B/s1600/newton_cropped.jpg) repeat fixed top left;
background-attachment:scroll;
background-size:cover;
-webkit-filter:blur(3px);
filter:blur(3px);
height:calc(100% + 2 * 3px);
left:-3px;
position:absolute;
top:-3px;
width:calc(100% + 2 * 3px)
}
.bg-photo-overlay{
background:rgba(0,0,0,.26);
background-size:cover;
height:470px;
position:absolute;
width:100%;
z-index:2
}
.hamburger-menu{
float:left;
margin-top:0
}
.sticky .hamburger-menu{
float:none;
position:absolute
}
.search{
border-bottom:solid 1px rgba(255, 255, 255, 0);
float:right;
position:relative;
-webkit-transition-property:width;
transition-property:width;
-webkit-transition-duration:.5s;
transition-duration:.5s;
-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);
transition-timing-function:cubic-bezier(.4,0,.2,1);
z-index:101
}
.search .dim-overlay{
background-color:transparent
}
.search form{
height:36px;
-webkit-transition-property:border-color;
transition-property:border-color;
-webkit-transition-delay:.5s;
transition-delay:.5s;
-webkit-transition-duration:.2s;
transition-duration:.2s;
-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);
transition-timing-function:cubic-bezier(.4,0,.2,1)
}
.search.focused{
width:calc(100% - 48px)
}
.search.focused form{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-flex:1;
-webkit-flex:1 0 1px;
-ms-flex:1 0 1px;
flex:1 0 1px;
border-color:#ffffff;
margin-left:-24px;
padding-left:36px;
position:relative;
width:auto
}
.item-view .search,.sticky .search{
right:0;
float:none;
margin-left:0;
position:absolute
}
.item-view .search.focused,.sticky .search.focused{
width:calc(100% - 50px)
}
.item-view .search.focused form,.sticky .search.focused form{
border-bottom-color:#4e4e4e
}
.centered-top-placeholder.cloned .search form{
z-index:30
}
.search_button{
-webkit-box-flex:0;
-webkit-flex:0 0 24px;
-ms-flex:0 0 24px;
flex:0 0 24px;
-webkit-box-orient:vertical;
-webkit-box-direction:normal;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column
}
.search_button svg{
margin-top:0
}
.search-input{
height:48px
}
.search-input input{
display:block;
color:#ffffff;
font:16px Roboto, sans-serif;
height:48px;
line-height:48px;
padding:0;
width:100%
}
.search-input input::-webkit-input-placeholder{
color:#ffffff;
opacity:.3
}
.search-input input::-moz-placeholder{
color:#ffffff;
opacity:.3
}
.search-input input:-ms-input-placeholder{
color:#ffffff;
opacity:.3
}
.search-input input::-ms-input-placeholder{
color:#ffffff;
opacity:.3
}
.search-input input::placeholder{
color:#ffffff;
opacity:.3
}
.search-action{
background:0 0;
border:0;
color:#ffffff;
cursor:pointer;
display:none;
height:48px;
margin-top:0
}
.sticky .search-action{
color:#4e4e4e
}
.search.focused .search-action{
display:block
}
.search.focused .search-action:disabled{
opacity:.3
}
.page_body{
position:relative;
z-index:20
}
.page_body .widget{
margin-bottom:16px
}
.page_body .centered{
box-sizing:border-box;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-orient:vertical;
-webkit-box-direction:normal;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
margin:0 auto;
max-width:922px;
min-height:100vh;
padding:24px 0
}
.page_body .centered>*{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto
}
.page_body .centered>#footer{
margin-top:auto
}
.blog-name{
margin:24px 0 16px 0
}
.item-view .blog-name,.sticky .blog-name{
box-sizing:border-box;
margin-left:36px;
min-height:48px;
opacity:1;
padding-top:12px
}
.blog-name .subscribe-section-container{
margin-bottom:32px;
text-align:center;
-webkit-transition-property:opacity;
transition-property:opacity;
-webkit-transition-duration:.5s;
transition-duration:.5s
}
.item-view .blog-name .subscribe-section-container,.sticky .blog-name .subscribe-section-container{
margin:0 0 8px 0
}
.blog-name .PageList{
margin-top:16px;
padding-top:8px;
text-align:center
}
.blog-name .PageList .overflowable-contents{
width:100%
}
.blog-name .PageList h3.title{
color:#ffffff;
margin:8px auto;
text-align:center;
width:100%
}
.centered-top-container .blog-name{
-webkit-transition-property:opacity;
transition-property:opacity;
-webkit-transition-duration:.5s;
transition-duration:.5s
}
.item-view .return_link{
margin-bottom:12px;
margin-top:12px;
position:absolute
}
.item-view .blog-name{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-wrap:wrap;
-ms-flex-wrap:wrap;
flex-wrap:wrap;
margin:0 48px 27px 48px
}
.item-view .subscribe-section-container{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto
}
.item-view #header,.item-view .Header{
margin-bottom:5px;
margin-right:15px
}
.item-view .sticky .Header{
margin-bottom:0
}
.item-view .Header p{
margin:10px 0 0 0;
text-align:left
}
.item-view .post-share-buttons-bottom{
margin-right:16px
}
.sticky{
background:#ffffff;
box-shadow:0 0 20px 0 rgba(0,0,0,.7);
box-sizing:border-box;
margin-left:0
}
.sticky #header{
margin-bottom:8px;
margin-right:8px
}
.sticky .centered-top{
margin:4px auto;
max-width:890px;
min-height:48px
}
.sticky .blog-name{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin:0 48px
}
.sticky .blog-name #header{
-webkit-box-flex:0;
-webkit-flex:0 1 auto;
-ms-flex:0 1 auto;
flex:0 1 auto;
-webkit-box-ordinal-group:2;
-webkit-order:1;
-ms-flex-order:1;
order:1;
overflow:hidden
}
.sticky .blog-name .subscribe-section-container{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto;
-webkit-box-ordinal-group:3;
-webkit-order:2;
-ms-flex-order:2;
order:2
}
.sticky .Header h1{
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
margin-right:-10px;
margin-bottom:-10px;
padding-right:10px;
padding-bottom:10px
}
.sticky .Header p{
display:none
}
.sticky .PageList{
display:none
}
.search-focused>*{
visibility:visible
}
.search-focused .hamburger-menu{
visibility:visible
}
.item-view .search-focused .blog-name,.sticky .search-focused .blog-name{
opacity:0
}
.centered-bottom,.centered-top-container,.centered-top-placeholder{
padding:0 16px
}
.centered-top{
position:relative
}
.item-view .centered-top.search-focused .subscribe-section-container,.sticky .centered-top.search-focused .subscribe-section-container{
opacity:0
}
.page_body.has-vertical-ads .centered .centered-bottom{
display:inline-block;
width:calc(100% - 176px)
}
.Header h1{
color:#ffffff;
font:bold 45px Roboto, sans-serif;
line-height:normal;
margin:0 0 13px 0;
text-align:center;
width:100%
}
.Header h1 a,.Header h1 a:hover,.Header h1 a:visited{
color:#ffffff
}
.item-view .Header h1,.sticky .Header h1{
font-size:24px;
line-height:24px;
margin:0;
text-align:left
}
.sticky .Header h1{
color:#4e4e4e
}
.sticky .Header h1 a,.sticky .Header h1 a:hover,.sticky .Header h1 a:visited{
color:#4e4e4e
}
.Header p{
color:#ffffff;
margin:0 0 13px 0;
opacity:.8;
text-align:center
}
.widget .title{
line-height:28px
}
.BlogArchive li{
font-size:16px
}
.BlogArchive .post-count{
color:#4e4e4e
}
#page_body .FeaturedPost,.Blog .blog-posts .post-outer-container{
background:#ffffff;
min-height:40px;
padding:30px 40px;
width:auto
}
.Blog .blog-posts .post-outer-container:last-child{
margin-bottom:0
}
.Blog .blog-posts .post-outer-container .post-outer{
border:0;
position:relative;
padding-bottom:.25em
}
.post-outer-container{
margin-bottom:16px
}
.post:first-child{
margin-top:0
}
.post .thumb{
float:left;
height:20%;
width:20%
}
.post-share-buttons-bottom,.post-share-buttons-top{
float:right
}
.post-share-buttons-bottom{
margin-right:24px
}
.post-footer,.post-header{
clear:left;
color:rgba(0, 0, 0, 0.54);
margin:0;
width:inherit
}
.blog-pager{
text-align:center
}
.blog-pager a{
color:#2196f3
}
.blog-pager a:visited{
color:#2196f3
}
.blog-pager a:hover{
color:#2196f3
}
.post-title{
font:bold 22px Roboto, sans-serif;
float:left;
margin:0 0 8px 0;
max-width:calc(100% - 48px)
}
.post-title a{
font:bold 30px Roboto, sans-serif
}
.post-title,.post-title a,.post-title a:hover,.post-title a:visited{
color:#3b3b3b
}
.post-body{
color:#4e4e4e;
font:15px Roboto, sans-serif;
line-height:1.6em;
margin:1.5em 0 2em 0;
display:block
}
.post-body img{
height:inherit
}
.post-body .snippet-thumbnail{
float:left;
margin:0;
margin-right:2em;
max-height:128px;
max-width:128px
}
.post-body .snippet-thumbnail img{
max-width:100%
}
.main .FeaturedPost .widget-content{
border:0;
position:relative;
padding-bottom:.25em
}
.FeaturedPost img{
margin-top:2em
}
.FeaturedPost .snippet-container{
margin:2em 0
}
.FeaturedPost .snippet-container p{
margin:0
}
.FeaturedPost .snippet-thumbnail{
float:none;
height:auto;
margin-bottom:2em;
margin-right:0;
overflow:hidden;
max-height:calc(600px + 2em);
max-width:100%;
text-align:center;
width:100%
}
.FeaturedPost .snippet-thumbnail img{
max-width:100%;
width:100%
}
.byline{
color:rgba(0, 0, 0, 0.54);
display:inline-block;
line-height:24px;
margin-top:8px;
vertical-align:top
}
.byline.post-author:first-child{
margin-right:0
}
.byline.reactions .reactions-label{
line-height:22px;
vertical-align:top
}
.byline.post-share-buttons{
position:relative;
display:inline-block;
margin-top:0;
width:100%
}
.byline.post-share-buttons .sharing{
float:right
}
.flat-button.ripple:hover{
background-color:rgba(60,121,167,.12)
}
.flat-button.ripple .splash{
background-color:rgba(60,121,167,.4)
}
a.timestamp-link,a:active.timestamp-link,a:visited.timestamp-link{
color:inherit;
font:inherit;
text-decoration:inherit
}
.post-share-buttons{
margin-left:0
}
.clear-sharing{
min-height:24px
}
.comment-link{
color:#3c79a7;
position:relative
}
.comment-link .num_comments{
margin-left:8px;
vertical-align:top
}
#comment-holder .continue{
display:none
}
#comment-editor{
margin-bottom:20px;
margin-top:20px
}
#comments .comment-form h4,#comments h3.title{
position:absolute;
clip:rect(1px,1px,1px,1px);
padding:0;
border:0;
height:1px;
width:1px;
overflow:hidden
}
.post-filter-message{
background-color:rgba(0,0,0,.7);
color:#fff;
display:table;
margin-bottom:16px;
width:100%
}
.post-filter-message div{
display:table-cell;
padding:15px 28px
}
.post-filter-message div:last-child{
padding-left:0;
text-align:right
}
.post-filter-message a{
white-space:nowrap
}
.post-filter-message .search-label,.post-filter-message .search-query{
font-weight:700;
color:#3c79a7
}
#blog-pager{
margin:2em 0
}
#blog-pager a{
color:#2196f3;
font-size:14px
}
.subscribe-button{
border-color:#ffffff;
color:#ffffff
}
.sticky .subscribe-button{
border-color:#4e4e4e;
color:#4e4e4e
}
.tabs{
margin:0 auto;
padding:0
}
.tabs li{
margin:0 8px;
vertical-align:top
}
.tabs .overflow-button a,.tabs li a{
color:#c6c6c6;
font:700 normal 15px Roboto, sans-serif;
line-height:18px
}
.tabs .overflow-button a{
padding:12px 8px
}
.overflow-popup .tabs li{
text-align:left
}
.overflow-popup li a{
color:#757575;
display:block;
padding:8px 20px
}
.overflow-popup li.selected a{
color:#212121
}
a.report_abuse{
font-weight:400
}
.Label li,.Label span.label-size,.byline.post-labels a{
background-color:#f7f7f7;
border:1px solid #f7f7f7;
border-radius:15px;
display:inline-block;
margin:4px 4px 4px 0;
padding:3px 8px
}
.Label a,.byline.post-labels a{
color:rgba(0, 0, 0, 0.54)
}
.Label ul{
list-style:none;
padding:0
}
.PopularPosts{
background-color:#eeeeee;
padding:30px 40px
}
.PopularPosts .item-content{
color:#757575;
margin-top:24px
}
.PopularPosts a,.PopularPosts a:hover,.PopularPosts a:visited{
color:#2196f3
}
.PopularPosts .post-title,.PopularPosts .post-title a,.PopularPosts .post-title a:hover,.PopularPosts .post-title a:visited{
color:#212121;
font-size:18px;
font-weight:700;
line-height:24px
}
.PopularPosts,.PopularPosts h3.title a{
color:#4e4e4e;
font:15px Roboto, sans-serif
}
.main .PopularPosts{
padding:16px 40px
}
.PopularPosts h3.title{
font-size:14px;
margin:0
}
.PopularPosts h3.post-title{
margin-bottom:0
}
.PopularPosts .byline{
color:rgba(0, 0, 0, 0.54)
}
.PopularPosts .jump-link{
float:right;
margin-top:16px
}
.PopularPosts .post-header .byline{
font-size:.9em;
font-style:italic;
margin-top:6px
}
.PopularPosts ul{
list-style:none;
padding:0;
margin:0
}
.PopularPosts .post{
padding:20px 0
}
.PopularPosts .post+.post{
border-top:1px dashed #c6c6c6
}
.PopularPosts .item-thumbnail{
float:left;
margin-right:32px
}
.PopularPosts .item-thumbnail img{
height:88px;
padding:0;
width:88px
}
.inline-ad{
margin-bottom:16px
}
.desktop-ad .inline-ad{
display:block
}
.adsbygoogle{
overflow:hidden
}
.vertical-ad-container{
float:right;
margin-right:16px;
width:128px
}
.vertical-ad-container .AdSense+.AdSense{
margin-top:16px
}
.inline-ad-placeholder,.vertical-ad-placeholder{
background:#ffffff;
border:1px solid #000;
opacity:.9;
vertical-align:middle;
text-align:center
}
.inline-ad-placeholder span,.vertical-ad-placeholder span{
margin-top:290px;
display:block;
text-transform:uppercase;
font-weight:700;
color:#3b3b3b
}
.vertical-ad-placeholder{
height:600px
}
.vertical-ad-placeholder span{
margin-top:290px;
padding:0 40px
}
.inline-ad-placeholder{
height:90px
}
.inline-ad-placeholder span{
margin-top:36px
}
.Attribution{
color:#757575
}
.Attribution a,.Attribution a:hover,.Attribution a:visited{
color:#2196f3
}
.Attribution svg{
fill:#5b5b5b
}
.sidebar-container{
box-shadow:1px 1px 3px rgba(0,0,0,.1)
}
.sidebar-container,.sidebar-container .sidebar_bottom{
background-color:#ffffff
}
.sidebar-container .navigation,.sidebar-container .sidebar_top_wrapper{
background-color:#ffffff
}
.sidebar-container .sidebar_top{
overflow:auto
}
.sidebar-container .sidebar_bottom{
width:100%;
padding-top:16px
}
.sidebar-container .widget:first-child{
padding-top:0
}
.sidebar_top .widget.Profile{
padding-bottom:16px
}
.widget.Profile{
margin:0;
width:100%
}
.widget.Profile h2{
display:none
}
.widget.Profile h3.title{
color:rgba(0, 0, 0, 0.52);
margin:16px 32px
}
.widget.Profile .individual{
text-align:center
}
.widget.Profile .individual .profile-link{
padding:1em
}
.widget.Profile .individual .default-avatar-wrapper .avatar-icon{
margin:auto
}
.widget.Profile .team{
margin-bottom:32px;
margin-left:32px;
margin-right:32px
}
.widget.Profile ul{
list-style:none;
padding:0
}
.widget.Profile li{
margin:10px 0
}
.widget.Profile .profile-img{
border-radius:50%;
float:none
}
.widget.Profile .profile-link{
color:#212121;
font-size:.9em;
margin-bottom:1em;
opacity:.87;
overflow:hidden
}
.widget.Profile .profile-link.visit-profile{
border-style:solid;
border-width:1px;
border-radius:12px;
cursor:pointer;
font-size:12px;
font-weight:400;
padding:5px 20px;
display:inline-block;
line-height:normal
}
.widget.Profile dd{
color:#757575;
margin:0 16px
}
.widget.Profile location{
margin-bottom:1em
}
.widget.Profile .profile-textblock{
font-size:14px;
line-height:24px;
position:relative
}
body.sidebar-visible .page_body{
overflow-y:scroll
}
body.sidebar-visible .bg-photo-container{
overflow-y:scroll
}
@media screen and (min-width:1440px){
.sidebar-container{
margin-top:470px;
min-height:calc(100% - 470px);
overflow:visible;
z-index:32
}
.sidebar-container .sidebar_top_wrapper{
background-color:#f3f3f3;
height:470px;
margin-top:-470px
}
.sidebar-container .sidebar_top{
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
height:470px;
-webkit-box-orient:horizontal;
-webkit-box-direction:normal;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
max-height:470px
}
.sidebar-container .sidebar_bottom{
max-width:284px;
width:284px
}
body.collapsed-header .sidebar-container{
z-index:15
}
.sidebar-container .sidebar_top:empty{
display:none
}
.sidebar-container .sidebar_top>:only-child{
-webkit-box-flex:0;
-webkit-flex:0 0 auto;
-ms-flex:0 0 auto;
flex:0 0 auto;
-webkit-align-self:center;
-ms-flex-item-align:center;
align-self:center;
width:100%
}
.sidebar_top_wrapper.no-items{
display:none
}
}
.post-snippet.snippet-container{
max-height:120px
}
.post-snippet .snippet-item{
line-height:24px
}
.post-snippet .snippet-fade{
background:-webkit-linear-gradient(left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%);
background:linear-gradient(to left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%);
color:#666666;
height:24px
}
.popular-posts-snippet.snippet-container{
max-height:72px
}
.popular-posts-snippet .snippet-item{
line-height:24px
}
.PopularPosts .popular-posts-snippet .snippet-fade{
color:#666666;
height:24px
}
.main .popular-posts-snippet .snippet-fade{
background:-webkit-linear-gradient(left,#eeeeee 0,#eeeeee 20%,rgba(238, 238, 238, 0) 100%);
background:linear-gradient(to left,#eeeeee 0,#eeeeee 20%,rgba(238, 238, 238, 0) 100%)
}
.sidebar_bottom .popular-posts-snippet .snippet-fade{
background:-webkit-linear-gradient(left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%);
background:linear-gradient(to left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%)
}
.profile-snippet.snippet-container{
max-height:192px
}
.has-location .profile-snippet.snippet-container{
max-height:144px
}
.profile-snippet .snippet-item{
line-height:24px
}
.profile-snippet .snippet-fade{
background:-webkit-linear-gradient(left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%);
background:linear-gradient(to left,#ffffff 0,#ffffff 20%,rgba(255, 255, 255, 0) 100%);
color:#757575;
height:24px
}
@media screen and (min-width:1440px){
.profile-snippet .snippet-fade{
background:-webkit-linear-gradient(left,#f3f3f3 0,#f3f3f3 20%,rgba(243, 243, 243, 0) 100%);
background:linear-gradient(to left,#f3f3f3 0,#f3f3f3 20%,rgba(243, 243, 243, 0) 100%)
}
}
@media screen and (max-width:800px){
.blog-name{
margin-top:0
}
body.item-view .blog-name{
margin:0 48px
}
.centered-bottom{
padding:8px
}
body.item-view .centered-bottom{
padding:0
}
.page_body .centered{
padding:10px 0
}
body.item-view #header,body.item-view .widget.Header{
margin-right:0
}
body.collapsed-header .centered-top-container .blog-name{
display:block
}
body.collapsed-header .centered-top-container .widget.Header h1{
text-align:center
}
.widget.Header header{
padding:0
}
.widget.Header h1{
font-size:24px;
line-height:24px;
margin-bottom:13px
}
body.item-view .widget.Header h1{
text-align:center
}
body.item-view .widget.Header p{
text-align:center
}
.blog-name .widget.PageList{
padding:0
}
body.item-view .centered-top{
margin-bottom:5px
}
.search-action,.search-input{
margin-bottom:-8px
}
.search form{
margin-bottom:8px
}
body.item-view .subscribe-section-container{
margin:5px 0 0 0;
width:100%
}
#page_body.section div.widget.FeaturedPost,div.widget.PopularPosts{
padding:16px
}
div.widget.Blog .blog-posts .post-outer-container{
padding:16px
}
div.widget.Blog .blog-posts .post-outer-container .post-outer{
padding:0
}
.post:first-child{
margin:0
}
.post-body .snippet-thumbnail{
margin:0 3vw 3vw 0
}
.post-body .snippet-thumbnail img{
height:20vw;
width:20vw;
max-height:128px;
max-width:128px
}
div.widget.PopularPosts div.item-thumbnail{
margin:0 3vw 3vw 0
}
div.widget.PopularPosts div.item-thumbnail img{
height:20vw;
width:20vw;
max-height:88px;
max-width:88px
}
.post-title{
line-height:1
}
.post-title,.post-title a{
font-size:20px
}
#page_body.section div.widget.FeaturedPost h3 a{
font-size:22px
}
.mobile-ad .inline-ad{
display:block
}
.page_body.has-vertical-ads .vertical-ad-container,.page_body.has-vertical-ads .vertical-ad-container ins{
display:none
}
.page_body.has-vertical-ads .centered .centered-bottom,.page_body.has-vertical-ads .centered .centered-top{
display:block;
width:auto
}
div.post-filter-message div{
padding:8px 16px
}
}
@media screen and (min-width:1440px){
body{
position:relative
}
body.item-view .blog-name{
margin-left:48px
}
.page_body{
margin-left:284px
}
.search{
margin-left:0
}
.search.focused{
width:100%
}
.sticky{
padding-left:284px
}
.hamburger-menu{
display:none
}
body.collapsed-header .page_body .centered-top-container{
padding-left:284px;
padding-right:0;
width:100%
}
body.collapsed-header .centered-top-container .search.focused{
width:100%
}
body.collapsed-header .centered-top-container .blog-name{
margin-left:0
}
body.collapsed-header.item-view .centered-top-container .search.focused{
width:calc(100% - 50px)
}
body.collapsed-header.item-view .centered-top-container .blog-name{
margin-left:40px
}
}
--></style>
<style id='template-skin-1' type='text/css'><!--
body#layout .hidden,
body#layout .invisible {
display: inherit;
}
body#layout .navigation {
display: none;
}
body#layout .page,
body#layout .sidebar_top,
body#layout .sidebar_bottom {
display: inline-block;
left: inherit;
position: relative;
vertical-align: top;
}
body#layout .page {
float: right;
margin-left: 20px;
width: 55%;
}
body#layout .sidebar-container {
float: right;
width: 40%;
}
body#layout .hamburger-menu {
display: none;
}
--></style>
<style>
    .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/s1600\/newton_cropped.jpg);}
    
@media (max-width: 480px) { .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/w480\/newton_cropped.jpg);}}
@media (max-width: 640px) and (min-width: 481px) { .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/w640\/newton_cropped.jpg);}}
@media (max-width: 800px) and (min-width: 641px) { .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/w800\/newton_cropped.jpg);}}
@media (max-width: 1200px) and (min-width: 801px) { .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/w1200\/newton_cropped.jpg);}}
/* Last tag covers anything over one higher than the previous max-size cap. */
@media (min-width: 1201px) { .bg-photo {background-image:url(http\:\/\/2.bp.blogspot.com\/-x4SlpiHfSJ8\/Vyjtmvpt5kI\/AAAAAAAADn4\/7NTxE5yxeE8_M58uwT6AoZ3W6P9sxB6TwCK4B\/w1600\/newton_cropped.jpg);}}
  </style>
<script async='async' src='//www.gstatic.com/external_hosted/clipboardjs/clipboard.min.js'></script>
<!-- START: ADDED BY AMIR -->
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
     tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
  },
  "HTML-CSS": { availableFonts: ["TeX"] }
  });
    </script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' type='text/javascript'>
    </script>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'/>
<!-- END: ADDED BY AMIR -->
<link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=5825758052688213474&amp;zx=5e2ad629-d23a-49a7-a013-9294d5a6515f' media='none' onload='if(media!=&#39;all&#39;)media=&#39;all&#39;' rel='stylesheet'/><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=5825758052688213474&amp;zx=5e2ad629-d23a-49a7-a013-9294d5a6515f' rel='stylesheet'/></noscript>

</head>
<body class='item-view variant-indie_light'>
<a class='skip-navigation' href='#main' tabindex='0'>
Skip to main content
</a>
<div class='page'>
<div class='bg-photo-overlay'></div>
<div class='bg-photo-container'>
<div class='bg-photo'></div>
</div>
<div class='page_body'>
<div class='centered'>
<div class='centered-top-placeholder'></div>
<header class='centered-top-container' role='banner'>
<div class='centered-top'>
<a class='return_link' href='http://www.unofficialgoogledatascience.com/'>
<button class='svg-icon-24-button back-button rtl-reversible-icon flat-icon-button ripple'>
<svg class='svg-icon-24'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_arrow_back_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</button>
</a>
<div class='search'>
<button aria-label='Search' class='search-expand touch-icon-button'>
<div class='flat-icon-button ripple'>
<svg class='svg-icon-24 search-expand-icon'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_search_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</div>
</button>
<div class='section' id='search_top' name='Search (Top)'><div class='widget BlogSearch' data-version='2' id='BlogSearch1'>
<h3 class='title'>
Search This Blog
</h3>
<div class='widget-content' role='search'>
<form action='http://www.unofficialgoogledatascience.com/search' target='_top'>
<div class='search-input'>
<input aria-label='Search this blog' autocomplete='off' name='q' placeholder='Search this blog' value=''/>
</div>
<input class='search-action' type='submit' value='Search'/>
</form>
</div>
</div></div>
</div>
<div class='clearboth'></div>
<div class='blog-name container'>
<div class='container section' id='header' name='Header'><div class='widget Header' data-version='2' id='Header1'>
<div class='header-widget'>
<div>
<h1>
<a href='http://www.unofficialgoogledatascience.com/'>
The Unofficial Google Data Science Blog
</a>
</h1>
</div>
<p>
</p>
</div>
</div></div>
<nav role='navigation'>
<div class='clearboth section' id='page_list_top' name='Page List (Top)'><div class='widget PageList' data-version='2' id='PageList1'>
<div class='widget-content'>
<div class='overflowable-container'>
<div class='overflowable-contents'>
<div class='container'>
<ul class='tabs'>
<li class='overflowable-item'>
<a href='http://www.unofficialgoogledatascience.com/'>Home</a>
</li>
<li class='overflowable-item'>
<a href='http://www.unofficialgoogledatascience.com/p/about.html'>About this blog</a>
</li>
</ul>
</div>
</div>
<div class='overflow-button hidden'>
<a class='flat-button'>More&hellip;</a>
</div>
</div>
</div>
</div></div>
</nav>
</div>
</div>
</header>
<div>
<div class='vertical-ad-container no-items section' id='ads' name='Ads'>
</div>
<main class='centered-bottom' id='main' role='main' tabindex='-1'>
<div class='main section' id='page_body' name='Page Body'>
<div class='widget Blog' data-version='2' id='Blog1'>
<div class='blog-posts hfeed container'>
<article class='post-outer-container'>
<div class='post-outer'>
<div class='post'>
<script type='application/ld+json'>{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html"
  },
  "headline": "Fitting Bayesian structural time series with the bsts R package","description": "by STEVEN L. SCOTT\u003ci\u003e Time series data are everywhere, but time series modeling is a fairly specialized area within statistics and data science.  This po&#8230;","datePublished": "2017-07-11T13:55:00-07:00",
  "dateModified": "2017-07-12T04:27:55-07:00","image": {
    "@type": "ImageObject","url": "https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0=w1200-h630-p-k-no-nu",
    "height": 630,
    "width": 1200},"publisher": {
    "@type": "Organization",
    "name": "Blogger",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lh3.googleusercontent.com/ULB6iBuCeTVvSjjjU1A-O8e9ZpVba6uvyhtiWRti_rBAs9yMYOFBujxriJRZ-A=h60",
      "width": 206,
      "height": 60
    }
  },"author": {
    "@type": "Person",
    "name": "Kay Brodersen"
  }
}</script>
<a name='6693193164123748208'></a>
<h3 class='post-title entry-title'>
Fitting Bayesian structural time series with the bsts R package
</h3>
<div class='post-share-buttons post-share-buttons-top'>
<div class='byline post-share-buttons goog-inline-block'>
<div aria-owns='sharing-popup-Blog1-byline-6693193164123748208' class='sharing' data-title='Fitting Bayesian structural time series with the bsts R package'>
<button aria-controls='sharing-popup-Blog1-byline-6693193164123748208' aria-label='Share' class='sharing-button touch-icon-button' id='sharing-button-Blog1-byline-6693193164123748208' role='button'>
<div class='flat-icon-button ripple'>
<svg class='svg-icon-24'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_share_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</div>
</button>
<div class='share-buttons-container'>
<ul aria-hidden='true' aria-label='Share' class='share-buttons hidden' id='sharing-popup-Blog1-byline-6693193164123748208' role='menu'>
<li>
<span aria-label='Get link' class='sharing-platform-button sharing-element-link' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Get link'>
<svg class='svg-icon-24 touch-icon sharing-link'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_link_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Get link</span>
</span>
</li>
<li>
<span aria-label='Share to Facebook' class='sharing-platform-button sharing-element-facebook' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=facebook' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Facebook'>
<svg class='svg-icon-24 touch-icon sharing-facebook'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_facebook_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Facebook</span>
</span>
</li>
<li>
<span aria-label='Share to Twitter' class='sharing-platform-button sharing-element-twitter' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=twitter' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Twitter'>
<svg class='svg-icon-24 touch-icon sharing-twitter'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_twitter_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Twitter</span>
</span>
</li>
<li>
<span aria-label='Share to Pinterest' class='sharing-platform-button sharing-element-pinterest' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=pinterest' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Pinterest'>
<svg class='svg-icon-24 touch-icon sharing-pinterest'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_pinterest_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Pinterest</span>
</span>
</li>
<li>
<span aria-label='Email' class='sharing-platform-button sharing-element-email' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=email' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Email'>
<svg class='svg-icon-24 touch-icon sharing-email'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_email_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Email</span>
</span>
</li>
<li aria-hidden='true' class='hidden'>
<span aria-label='Share to other apps' class='sharing-platform-button sharing-element-other' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to other apps'>
<svg class='svg-icon-24 touch-icon sharing-sharingOther'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_more_horiz_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Other Apps</span>
</span>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class='post-header'>
<div class='post-header-line-1'>
<span class='byline post-timestamp'>
<meta content='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html'/>
<a class='timestamp-link' href='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' rel='bookmark' title='permanent link'>
<time class='published' datetime='2017-07-11T13:55:00-07:00' title='2017-07-11T13:55:00-07:00'>
July 11, 2017
</time>
</a>
</span>
</div>
</div>
<div class='post-body entry-content float-container' id='post-body-6693193164123748208'>
by STEVEN L. SCOTT<br />
<br />
<i>Time series data are everywhere, but time series modeling is a fairly specialized area within statistics and data science.  This post describes the bsts software package, which makes it easy to fit some fairly sophisticated time series models with just a few lines of R code.</i><br />
<br />
<h2>
Introduction</h2>
Time series data appear in a surprising number of applications, ranging from business, to the physical and social sciences, to health, medicine, and engineering. Forecasting (e.g. next month's sales) is common in problems involving time series data, but explanatory models (e.g. finding drivers of sales) are also important. Time series data are having something of a moment in the tech blogs right now, with Facebook announcing their "Prophet" system for time series forecasting (Taylor and Letham 2017), and Google posting about its forecasting system in this blog (Tassone and Rohani 2017).<br />
<br />
This post summarizes the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> R package, a tool for fitting Bayesian structural time series models. These are a widely useful class of time series models, known in various literatures as "structural time series," "state space models," "Kalman filter models," and "dynamic linear models," among others. Though the models need not be fit using Bayesian methods, they have a Bayesian flavor and the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package was built to use Bayesian posterior sampling.<br />
<br />
The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package is open source. You can download it from CRAN with the R command <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">install.packages("bsts")</span>. It shares some features with Facebook and Google systems, but it was written with different goals in mind. The other systems were written to do "forecasting at scale," a phrase that means something different in time series problems than in other corners of data science. The Google and Facebook systems focus on forecasting daily data into the distant future. The "scale" in question comes from having many time series to forecast, not from any particular time series being extraordinarily long. The bottleneck in both cases is the lack of analyst attention, so the systems aim to automate analysis as much as possible. The Facebook system accomplishes this using regularized regression, while the Google system works by averaging a large ensemble of forecasts. Both systems focus on daily data, and derive much of their efficiency through the careful treatment of holidays.<br />
<br />
There are aspects of <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> which can be similarly automated, and a specifically configured version of bsts is a powerful member of the Google ensemble. However, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> can also be configured for specific tasks by an analyst who knows whether the goal is short term or long term forecasting, whether or not the data are likely to contain one or more seasonal effects, and whether the goal is actually to fit an explanatory model, and not primarily to do forecasting at all.<br />
<br />
The workhorse behind <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> is the structural time series model.  These models are briefly described in the section <b>Structural time series models</b>.  Then the software is introduced through a series of extended examples that focus on a few of the more advanced features of <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span>. <b>Example 1: Nowcasting</b> includes descriptions of the local linear trend and seasonal state models, as well as spike and slab priors for regressions with large numbers of predictors.<b>  Example 2: Long term forecasting </b>describes a situation where the local level and local linear trend models would be inappropriate.  It offers a semilocal linear trend model as an alternative. <b>Example 3: Recession modeling</b> describes an model where the response variable is non-Gaussian.  The goal in Example 3 is not to predict the future, but to control for serial dependence in an explanatory model that seeks to identify relevant predictor variables.  A final section concludes with a discussion of other features in the package which we won't have space (maybe "time" is a better word) to explore with fully fleshed out examples.
<br />
<br />
<h2>
Structural time series models</h2>
A structural time series model is defined by two equations.  The <i>observation equation</i> relates the observed data $y_t$ to a vector of latent variables $\alpha_t$ known as the "state."<br />
$$  y_t = Z_t^T\alpha_t + \epsilon_t.$$<br />
The <i>transition equation</i> describes how the latent state evolves through time.<br />
$$  \alpha_{t+1} = T_t \alpha_t + R_t \eta_t.$$<br />
The error terms $\epsilon_t$ and $\eta_t$ are Gaussian and independent of everything else.  The arrays $Z_t$, $T_t$ and $R_t$ are <i>structural parameters.</i>  They may contain parameters in the statistical sense, but often they simply contain strategically placed 0's and 1's indicating which bits of $\alpha_t$ are relevant for a particular computation.  An example will hopefully make things clearer.<br />
<br />
The simplest useful model is the "local level model," in which the vector $\alpha_t$ is just a scalar $\mu_t$.  The local level model is a random walk observed in noise.<br />
$$    y_t = \mu_t + \epsilon_t $$
$$    \mu_{t+1} = \mu_t + \eta_t. $$<br />
Here $\alpha_t = \mu_t$, and $Z_t$, $T_t$, and $R_t$ all collapse to the scalar value 1.  Similar to Bayesian hierarchical models for nested data, the local level model is a compromise between two extremes.  The compromise is determined by variances of $\epsilon_t \sim N(0, \sigma^2)$ and $\eta_t \sim N(0,  \tau^2)$.  If $\tau^2 = 0$ then $\mu_t$ is a constant, so the data are IID Gaussian noise. In that case the best estimator of $y_{t+1}$ is the mean of $y_1, \dots, y_t$. Conversely, if $\sigma^2 = 0$ then the data follow a random walk, in which case the best estimator of $y_{t+1}$ is $y_t$.  Notice that in one case the estimator depends on all past data (weighted equally) while in the other it depends only on the most recent data point, giving past data zero weight.  If both variances are positive then the optimal estimator of $y_{t+1}$ winds up being "exponential smoothing," where past data are forgotten at an exponential rate determined by the ratio of the two variances.  Also notice that while the state in this model is Markov (i.e. it only depends on the previous state), the dependence among the observed data extends to the beginning of the series.<br />
<br />
Structural time series models are useful because they are flexible and modular. The analyst chooses the structure of $\alpha_t$ based on things like whether short or long term predictions are more important, whether the data contains seasonal effects, and whether and how regressors are to be included.  Many of these models are standard, and can be fit using a variety of tools, such as the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">StructTS</span> function distributed with base R or one of several R packages for fitting these models (with the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">dlm</span> package (Petris 2010, Petris, Petrone, and Campagnoli 2009) deserving special mention).  The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package handles all the standard cases, but it also includes several useful extensions, described in the next few sections through a series of examples. Each example includes a mathematical description of the model and example <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> code showing how to work with the model using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> software.  To keep things short, details about prior assumptions are largely avoided.<br />
<br />
<br />
<h2>
Example 1: Nowcasting</h2>
Scott and Varian (2014, 2015) used structural time series models to show how Google search data can be used to improve short term forecasts ("nowcasts") of economic time series.  Figure 1 shows the motivating data set from Scott and Varian (2014), which is also included with the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package.  The data consist of the weekly initial claims for unemployment insurance in the US, as reported by the US Federal Reserve.  Like many official statistics they are released with delay and subject to revision. At the end of the week, the economic activity determining these numbers has taken place, but the official numbers are not published until several days later.  For economic decisions based on these and similar numbers, it would help to have an early forecast of the current week's number as of the close of the week.  Thus the output of this analysis is truly a "nowcast" of data that has already happened rather than a "forecast" of data that will happen in the future.<br />
<br />
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="initial-claims-nsa-data.png" height="504" src="https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0" style="border: none; transform: rotate(0rad);" width="504" /></span></div>
<b>Figure 1:</b>  Weekly initial claims for unemployment in the US.<b style="font-weight: normal;"><br /></b>
<br />
<br />
There are two sources of information about the current value $y_t$ in the initial claims series: past values $y_{t - \tau}$ describing the time series behavior of the series, and contemporaneous predictors ${\bf x}_t$ from a data source which is correlated with $y_t$, but which is available without the delay exhibited by $y_t$.  The time series structure shows an obvious trend (in which the financial and housing crises in 2008 - 2009 are apparent) as well as a strong annual seasonal pattern.  The external data source explored by Scott and Varian was search data from Google trends with search queries such as "how to file for unemployment" having obvious relevance.
<br />
<h3>
State components</h3>
<div>
Scott and Varian modeled the data in Figure 1 using a structural time series with three state components: a trend $\mu_t$, a seasonal pattern $\tau_t$ and a regression component $\beta^T{\bf x}_t$.  The model is<br />
$$      y_t = \mu_t + \tau_t + \beta^T{\bf x}_t + \epsilon_t $$
$$    \mu_{t+1} = \mu_t + \delta_t + \eta_{0t} $$
$$    \delta_{t+1} = \delta_t + \eta_{1t} $$
$$    \tau_{t+1} = -\sum_{s = 1}^{S-1}\tau_{t} + \eta_{2t}.$$
<br />
The trend component looks similar to the local level model above, but it has an extra term $\delta_t$.  Notice that $\delta_t$ is the amount of extra $\mu$ you can expect as $t\rightarrow t+1$, so it can be interpreted as the slope of the local linear trend.  Slopes normally multiply some $x$ variable, but in this case $x = \Delta t$, which omitted from the equation because it is always 1. The slope evolves according to a random walk, which makes the trend an <i>integrated</i> random walk with an extra drift term.  The local linear trend is a better model than the local level model if you think the time series is trending in a particular direction and you want future forecasts to reflect a continued increase (or decrease) seen in recent observations.  Whereas the local level model bases forecasts around the average value of recent observations, the local linear trend model adds in recent upward or downward slopes as well.  As with most statistical models, the extra flexibility comes at the price of extra volatility.<br />
<br />
The best way to understand the seasonal component $\tau_t$ is in terms of a regression with seasonal dummy variables.  Suppose you had quarterly data, so that $S = 4$.  You might include the annual seasonal cycle using 3 dummy variables, with one left out as a baseline.  Alternatively, you could include all four dummy variables but constrain their coefficients to sum to zero.  The seasonal state model takes the latter approach, but the constraint is that the $S$ most recent seasonal effects must sum to zero in expectation.  This allows the seasonal pattern to slowly evolve.  Scott and Varian described the annual cycle in the weekly initial claims data using a seasonal state component with $S = 52$.  Of course weeks don't neatly divide years, but given the small number of years for which Google data are available the occasional one-period seasonal discontinuity was deemed unimportant.<br />
<br />
Let's ignore the regression component for now and fit a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> model with just the trend and seasonal components.<b style="font-weight: normal;"><br /></b>
<br />
<br />
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">library(bsts)     </span><span style="color: black; font-family: &quot;courier new&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"># load the bsts package</span><br />
<span style="color: black; font-family: &quot;courier new&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;">data(iclaims)     </span><span style="color: black; font-family: &quot;courier new&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"># bring the initial.claims data into scope</span><br />
<span style="color: black; font-family: &quot;courier new&quot;; font-size: 11pt; vertical-align: baseline; white-space: pre-wrap;"><br /></span>


<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss &lt;- AddLocalLinearTrend(list(), initial.claims$iclaimsNSA)</span><br />
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss &lt;- AddSeasonal(ss, initial.claims$iclaimsNSA, nseasons = 52)</span><br />
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">model1 &lt;- bsts(initial.claims$iclaimsNSA,</span><br />
<span style="background-color: transparent; color: black; font-style: normal; font-weight: 400; text-decoration: none; vertical-align: baseline;"></span><span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">               state.specification = ss,</span><br />
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">               niter = 1000)</span><b style="font-weight: normal;"><br /></b>
<br />
<br />
The first thing to do when fitting a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> model is to specify the contents of the latent state vector $\alpha_t$.  The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package offers a library of state models, which are included by adding them to a state specification (which is just a list with a particular format).  The call to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddLocalLinearTrend</span> above adds a local linear trend state component to an empty state specification (the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">list()</span> in its first argument).  The call to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddSeasonal</span> adds a seasonal state component with 52 seasons to the state specification created on the previous line.  The state vector $\alpha_t$ is formed by concatenating the state from each state model.  Similarly, the vector $Z_t$ is formed by concatenating the $Z$ vectors from the two state models, while the matrices $T_t$ and $R_t$ are combined in block-diagonal fashion.<br />
<br />
The state specification is passed as an argument to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span>, along with the data and the desired number of MCMC iterations.  The model is fit using an MCMC algorithm, which in this example takes about 20 seconds to produce 1000 MCMC iterations.  The returned object is a list (with class attribute "<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span>").  You can see its contents by typing <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">names(model1)</span>.  The first few elements contain the MCMC draws of the model parameters.  Most of the other elements are data structures needed by various S3 methods (<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">plot</span><span style="font-family: inherit;">,</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"> print</span><span style="font-family: inherit;">,</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"> predict</span>, etc.) that can be used with the returned object.  MCMC output is stored in vectors (for scalar parameters) or arrays (for vector or matrix parameters) where the first index in the array corresponds to MCMC iteration number, and the remaining indices correspond to dimension of the deviate being drawn.<br />
<br />
Most users won't need to look inside the returned <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> object because standard tasks like plotting and prediction are available through familiar S3 methods. For example, there are several plot methods available.</div>
<div>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(model)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(model1, "components") &nbsp;# plot(model1, "comp") works too!</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(model1, "help")</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-bsm-model.png" height="360" src="https://lh6.googleusercontent.com/ak8QR1ohLsUdl9ts9-gYCwp_J4N1wEbdTT4Zh-liFtoAsOdvAis9Cj9JJJGNO5Ldc1iKQzAfRu-u0PKkrxiNAByMhp60Awvjhj2xE_TQDKXib71qpH5A1vfmO82-fzwrdNiu0czJ" style="border: none; transform: rotate(0rad);" width="360" /></span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-bsm-components.png" height="312" src="https://lh4.googleusercontent.com/hrM-6wrKLfChwMol9sxHOqfMMk2lyOaCgwoFIc6XzV63rTIFVGEItXed2wbeEYvwzMNZ1T3RQgNv4eEs_BekAjq1dvYQGqNH8wLA9ybOz9UUS_mxKk01kvyz--UU2C3z7G-ABzad" style="border: none; transform: rotate(0rad);" width="624" /></span></div>
<br />
<b>Figure 2:</b> (top) Posterior distribution of model state.  Blue circles are actual data points. (bottom) Individual state components.  The plot looks fuzzy because it is showing the marginal posterior distribution at each time point.<br />
<br />
<br />
The default <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">plot</span> method plots the posterior distribution of the conditional mean $Z_t^T\alpha_t$ given the full data ${\bf y} = y_1, \dots, y_T.$ Other plot methods can be accessed by passing a string to the plot function.  For example, to see the contributions of the individual state components, pass the string <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">"components"</span> as a second argument, as shown above. Figure 2 shows the output of these two plotting functions. You can get a list of all available plots by passing the string <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">"<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">help</span>"</span> as the second argument.<br />
<br />
To predict future values there is a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">predict</span> method.  For example, to predict the next 12 time points you would use the following commands.<br />
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">pred1 &lt;- predict(model1, horizon = 12)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(pred1, plot.original = 156)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
The output of <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">predict</span> is an object of class <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts.prediction</span>, which has its own <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">plot</span> method.  The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">plot.original = 156</span> argument says to plot the prediction along with the last 156 time points (3 years) of the original series.  The results are shown in Figure 3.<br />
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-bsm-prediction.png" height="312" src="https://lh6.googleusercontent.com/Zo0mdpiftu-T7Rl8YOUTXhnvsiWF2363YUJWFKyi0RlE46Eobk5AGHKh3OUT58RSkTnO-vIWCVU0Ih0TU3IXhi3PlpaIuGZCaFXPsgRrGRwmSdhRlPtGI3beeUzavXe-onamcUR1" style="border: none; transform: rotate(0rad);" width="624" /></span></div>
</div>
<b>  Figure 3:</b> Posterior predictive distribution for the next 12 weeks of initial claims.</div>
<div>
<br />
<h3>
Regression with spike and slab  priors</h3>
Now let's add a regression component to the model described above, so that we can use Google search data to improve the forecast.  The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package only includes 10 search terms with the initial claims data set, to keep the package size small, but Scott and Varian (2014) considered examples with several hundred predictor variables.  When faced with large numbers of potential predictors it is important to have a prior distribution that induces sparsity. A spike and slab prior is a natural way to express a prior belief that most of the regression coefficients are exactly zero.<br />
<br />
A spike and slab prior is a prior on a set of regression coefficients that assigns each coefficient a positive probability of being zero.  Upon observing data, Bayes' theorem updates the inclusion probability of each coefficient. When sampling from the posterior distribution of a regression model under a spike and slab prior, many of the simulated regression coefficients will be exactly zero.  This is unlike the "lasso" prior (the Laplace, or double-exponential distribution), which yields MAP estimates at zero but where posterior simulations will be all nonzero.  You can read about the mathematical details of spike and slab priors in Scott and Varian (2014).<br />
<br />
When fitting <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> models that contain a regression component, extra arguments captured by <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">...</span> are passed to the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">SpikeSlabPrior</span> function from the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">BoomSpikeSlab</span> package.  This allows the analyst to adjust the default prior settings for the regression component from the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> function call.  To include a regression component in a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> model, simply pass a model formula as the first argument.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"># Fit a bsts model with expected model size 1, the default.</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">model2 &lt;- bsts(iclaimsNSA ~ .,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state.specification = ss,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;niter = 1000,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data = initial.claims)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"># Fit a bsts model with expected model size 5, to include more coefficients.</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">model3 &lt;- bsts(iclaimsNSA ~ .,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state.specification = ss,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;niter = 1000,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data = initial.claims,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected.model.size = 5) &nbsp;# Passed to SpikeSlabPrior.</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
To examine the output you can use the same plotting functions as before.  For example, to see the contribution of each state component you can type <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">plot(model2, "comp")</span>, producing the output in Figure 4.  The regression component is explaining a substantial amount of variation in the initial claims series.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-reg-ems1-components.png" height="312" src="https://lh5.googleusercontent.com/iphojjZ4JOTPdLRPBxNzGw69-syYSqemNwvzW3nLRYNrj-YWSXZGY4TdbVO7wi5akODJhqldVBKBsEAzZ0fO3T8R_cbvhKsO_uxYTX5G6_21CD2giEeWow4oeOFebxT5rYDc3pUF" style="border: none; transform: rotate(0rad);" width="624" /></span></div>
</div>
<b>Figure 4:</b> Contribution of each state component to the initial claims data, assuming a regression component with default prior.  Compare to Figure 2.
<br />
<br />
<br />
There are also plotting functions that you can use to visualize the regression coefficients.  The following commands<br />
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(model2, "coef")</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(model3, "coef")</span></div>
<b style="font-weight: normal;"><br /></b>
produce the summary plots in Figure 5.  The search term "unemployment office" shows up with high probability in both models. Increasing the expected model size from 1 (the default) to 5 allows other variables into the model, though "Idaho unemployment" is the only one that shows up with high probability.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="margin-left: 0pt;">
<table style="border-collapse: collapse; border: none; width: 468pt;"><colgroup><col width="*"></col><col width="*"></col></colgroup><tbody>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-reg-ems1-coef.png" height="297" src="https://lh6.googleusercontent.com/1qrG5JFbvHvblYkU1ztGwlCOOSMR92H-csfVQV4XgTnlIhkTMsNn3gf9BhroBu-y6jcGz2OUavq1ntToTZzls7SV_DOvgdn5Xlwfzp7NbEIaHOs8MQwIcTiv4fYFIzDSMZWvQheD" style="border: none; transform: rotate(0rad);" width="298" /></span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-reg-ems5-coef.png" height="297" src="https://lh3.googleusercontent.com/krdpiG0EZUnccg9SlpD2yR4N4CjaGjWlN0KHeya7lRxlWozUi2x70dVEGqUzzwj_c0aUu57HsAwdo7UPHnbZIqapxbDON8GnXPcPdGHcqwXJRjWQ6I7lS3fj5vcbqCxCSvAivolZ" style="border: none; transform: rotate(0rad);" width="298" /></span></div>
</td></tr>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(a)</span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(b)</span></div>
</td></tr>
</tbody></table>
</div>
<b style="font-weight: normal;"><br /></b>
<br />
<b>Figure 5:</b> Posterior inclusion probabilities for predictors in the "initial claims" nowcasting example assuming an expected model size of (a) 1 and (b) 5.</div>
<div>
<br /></div>
<div>
<br /></div>
<h3>
Model diagnostics: Did the Google data help?</h3>
As part of the model fitting process, the algorithm generates the one-step-ahead prediction errors $y_t - E(y_t | Y_{t-1}, \theta)$, where $Y_{t-1} = y_1, \dots, y_{t-1}$, and the vector of model parameters $\theta$ is fixed at its current value in the MCMC algorithm.  The one-step-ahead prediction errors can be obtained from the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> model by calling <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts.prediction.errors(model1)</span>.<br />
<div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<br />
The one step prediction errors are a useful diagnostic for comparing several <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> models that have been fit to the same data.  They are used to implement the function <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">CompareBstsModels</span>, which is called as shown below.<br />
<br />
<span style="font-family: &quot;courier new&quot;; font-size: 11pt; white-space: pre-wrap;">CompareBstsModels(list("Model 1" = model1,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Model 2" = model2,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Model 3" = model3),</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colors = c("black", "red", "blue"))</span></div>
<b style="font-weight: normal;"><br /></b>
The result of the call is the plot shown in Figure 6.  The bottom panel shows the original series.  The top panel shows the cumulative total of the mean absolute one step prediction errors for each model.  The final time point in the top plot is proportional to the mean absolute prediction error for each model, but plotting the errors as a cumulative total lets you see particular spots where each model encountered trouble, rather than just giving a single number describing each model&#8217;s predictive accuracy. Figure 6 shows that the Google data help explain the large spike near 2009, where model 1 accumulates errors at an accelerated rate, but models 2 and 3 continue accumulating errors at about the same rate they had been before.  The fact that the lines for models 2 and 3 overlap in Figure 6 means that the additional predictors allowed by the relaxed prior used to fit model 3 do not yield additional predictive accuracy.<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="iclaims-compare-models.png" height="437" src="https://lh6.googleusercontent.com/w78qt2-5Yu7zJaHdJ6JiTq9GdfvxiKOLY7xHScy6-AJBeY3TcY8xHeeIGRo415ij34pFM9ZuBi2xRO22eH7I8MyhV8Abwbo5b2hjjDryIhnrhhsINtN4kT7bxi4_XVYL3Yb_rX4K" style="border: none; transform: rotate(0rad);" width="624" /></span></div>
</div>
<b>Figure 6:</b> Comparing models 1 - 3 in terms of cumulative prediction error, for the nowcasting&nbsp;application.<br />
<br />
<br />
<h2>
Example 2: Long term forecasting</h2>
A common question about <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> is "which trend model should I use?" To answer that question it helps to know a bit about the different models that the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> software package provides, and what each model implies.<br />
In the local level model the state evolves according to a random walk:<br />
<br />
$$ \mu_{t+1} = \mu_t + \eta_t.$$<br />
If you place your eye at time 0 and ask what happens at time $t$, you find that $\mu_t \sim N(\mu_0, t \sigma^2_\eta)$.  The variance continues to grow with $t$, all the way to $t = \infty$.  The local linear trend is even more volatile. When forecasting far into the future the flexibility provided by these models becomes a double edged sword, as local flexibility in the near term translates into extreme variance in the long term.<br />
<br />
An alternative is to replace the random walk with a stationary AR process.  For example<br />
<br />
$$ \mu_{t+1} = \rho \mu_{t} + \eta_t,$$<br />
with $\eta_t \sim N(0, \sigma^2_\eta)$ and $|\rho| &lt; 1$.  This model has stationary distribution<br />
$$\mu_\infty \sim N\left(0, \frac{\sigma^2_\eta}{1 - \rho^2}\right),$$<br />
which means that uncertainty grows to a finite asymptote, rather than infinity, in the distant future.  Bsts offers autoregressive state models through the functions <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddAr</span>, when you want to specify a certain number of lags, and <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddAutoAr</span> when you want the software to choose the important lags for you.
<br />
<br />
A hybrid model modifies the local linear trend model by replacing the random walk on the slope with a stationary AR(1) process, while keeping the random walk for the level of the process.  The <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package refers to this is the "semilocal linear trend" model.<br />
$$    \mu_{t+1} = \mu_t + \delta_t + \eta_{0t} $$
$$    \delta_{t+1} = D + \rho (\delta_t - D) + \eta_{1t} $$
The $D$ parameter is the long run slope of the trend component, to which $\delta_t$ will eventually revert.  However $\delta_t$ can have short term autoregressive deviations from the long term trend, with memory determined by $\rho$.  Values of $\rho$ close to 1 will lead to long deviations from $D$.  To see the impact this can have on long term forecasts, consider the time series of daily closing values for the S&amp;P 500 stock market index over the last 5 years, shown in Figure 7. <br />
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="sp500-daily-data.png" height="429" src="https://lh6.googleusercontent.com/6pf2Y7KZ3BsN-XnEPHaBseRalFTaASjfg-zeWzF5kijZbXDpn_NnruLbnMK4e9MxJ3jqKlzy2ea0-OFcW726xU4LWCKfxSUJ_3pXalnO0k-nhQvy45GGPHi7I0htQil4zJDIqoii" style="border: none; transform: rotate(0rad);" width="429" /></span></div>
</div>
<b>Figure 7:</b> Daily closing values for the S&amp;P 500 stock market index.<b style="font-weight: normal;"><br /></b>
<br />
<br />
<br />
Consider two forecasts of the daily values of this series for the next 360 days.  The first assumes the local linear trend model.  The second assumes the semilocal linear trend.<br />
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss1 &lt;- AddLocalLinearTrend(list(), sp500)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">model1 &lt;- bsts(sp500, state.specification = ss1, niter = 1000)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">pred1 &lt;- predict(model1, horizon = 360)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss2 &lt;- AddSemilocalLinearTrend(list(), sp500)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">model2 &lt;- bsts(sp500, state.specification = ss2, niter = 1000)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">pred2 &lt;- predict(model2, horizon = 360)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(pred2, plot.original = 360, ylim = range(pred1))</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">plot(pred1, plot.original = 360, ylim = range(pred1))</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
The resulting forecasts are plotted in Figure 8.  The forecast expectations from the two models are quite similar, but the forecast errors from the local linear trend model are implausibly wide, including a small but nonzero probability that the S&amp;P 500 index could close near zero in the next 360 days.  The error bars from the semilocal linear trend model are far more plausible, and more closely match the uncertainty observed over the life of the series thus far.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="margin-left: 0pt;">
<table style="border-collapse: collapse; border: none; width: 468pt;"><colgroup><col width="*"></col><col width="*"></col></colgroup><tbody>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="sp500-semilocal-linear-prediction.png" height="297" src="https://lh4.googleusercontent.com/bRXfuqLEonbjH3mYqphjswBj_9S1rrjbpHdNEci2c9IL0v5cK-J5z8MimP_owe7zYAKD95IDktar58J6ZMazc1AwZDDg4tGh01vWQIAJViUbmy2fB_0uSZTQmhAsMTtF2gXz3BZP" style="-webkit-transform: rotate(0.00rad); border: none; transform: rotate(0.00rad);" width="298" /></span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="sp500-local-linear-prediction.png" height="297" src="https://lh4.googleusercontent.com/bWZ70ULbepNj3mO70bri0vVuoTTAXWw682QkwWpgzFu81u3YEt2XmgH07V5o_8n3NYv1HVKMB0qDHn_TlBpleXDnPcly0VjHc4af2AYTUS87vR-ZHIkLU3vd6daC_DKH2l_npsqH" style="-webkit-transform: rotate(0.00rad); border: none; transform: rotate(0.00rad);" width="298" /></span></div>
</td></tr>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(a)</span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(b)</span></div>
</td></tr>
</tbody></table>
</div>
<b style="font-weight: normal;"><br /></b>
<br />
<b>Figure 8:</b> Long term forecasts of the S&amp;P 500 closing values under the (a) local linear trend and (b) semilocal linear trend state models.</div>
<div>
<br />
<br />
<h2>
 Example 3: Recession modeling using non-Gaussian data</h2>
Although we have largely skipped details about how the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> software fits models, the Gaussian error assumptions in the observation and transition equations are important for the model fitting process.  Part of that process involves running data through the Kalman filter, which assumes Gaussian errors in both the state and transition equations.  In many settings where Gaussian errors are obviously inappropriate, such as for binary or small count data, one can introduce latent variables that give the model a conditionally Gaussian representation.  Well known "data augmentation" methods exist for probit regression (Albert and Chib, 1993) and models with student T errors (Gelman et al. 2014).  Somewhat more complex methods exist for logistic regression (Frhwirth-Schnatter and Frhwirth 2005, Holmes and Held 2006, Gramacy and Polson 2012) and Poisson regression (Frhwirth-Schnatter et al 2008). Additional methods exist for quantile regression (Benoit and Van Den Poel 2012), support vector machines (Polson and Scott 2011), and multinomial logit regression (Frhwirth-Schnatter and Frhwirth 2010). These are not currently provided by the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> package, but they might be added in the future.<br />
<br />
To see how non-Gaussian errors can be useful, consider the analysis done by Berge, Sinha, and Smolyansky (2016) who used Bayesian model averaging (BMA) to investigate which of several economic indicators would best predict the presence or absence of a recession.  We will focus on their nowcasting example, which models the probability of a recession at the same time point as the predictor variables.  Berge, Sinha, and Smolyansky (2016) also analyzed the data with the predictors at several lags.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="gdp-training-data.png" height="360" src="https://lh5.googleusercontent.com/qeo1_lYUUBOgIG7tCWVZGDnjdC0NujPfCOyoGAdwWyQrmKqI82GMFvLij-B0biqrh1xM3POzCvtBv2tRt7a4IegHcdbs_QeaAg8yWWt9JHB-ElDtlCILi34-k3pnvdfxoAXG8eMw" style="border: none; transform: rotate(0rad);" width="360" /></span></div>
</div>
<b>Figure 9:</b> US recession indicators, as determined by NBER.<b style="font-weight: normal;"><br /></b>
<br />
<b style="font-weight: normal;"><br /></b>
<br />
The model used in Berge, Sinha, and Smolyansky (2016) was a probit regression, with Bayesian model averaging used to determine which predictors should be included.  The response variable was the the presence or absence of a recession (as <a href="http://www.nber.org/cycles.html" target="_blank">determined by NBER</a>), plotted in Figure 9. The BMA done by Berge, Sinha, and Smolyansky (2016) is essentially the same as fitting a logistic regression under a spike-and-slab prior with the prior inclusion probability of each predictor set to $1/2$.  That analysis can be run using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">BoomSpikeSlab</span> R package (Scott 2010), which is similar to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span>, but with only a regression component and no time series.  The marginal posterior inclusion probabilities produced by <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">BoomSpikeSlab</span> are shown in Figure 10(a).  They largely replicate the findings of Berge, Sinha, and Smolyansky (2016), up to minor Monte Carlo error.<br />
<br />
The logistic regression model is highly predictive, but it ignores serial dependence in the data.  To capture serial dependence, consider the following dynamic logistic regression model with a local level trend model.<br />
$$    \text{logit}(p_t) = \mu_t + \beta^T{\bf x}_t $$
$$    \mu_{t+1} = \mu_t + \eta_t $$<br />
Here $p_t$ is the probability of a recession at time $t$, and ${\bf x}_t$ is the set of economic indicators used by Berge, Sinha, and Smolyansky (2016) in their analysis.  To fit this model, we can issue the commands shown below.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## Because 'y' is 0/1 and the state is on the logit scale the default prior</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## assumed by AddLocalLevel won't work here, so we need to explicitly set the</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## priors for the variance of the state innovation errors and the initial value</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## of the state at time 0. &nbsp;The 'SdPrior' and 'NormalPrior' functions used to</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## define these priors are part of the Boom package. &nbsp;See R help for</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## documentation. &nbsp;Note the truncated support for the standard deviation of the</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## random walk increments in the local level model.</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss &lt;- AddLocalLevel(list(),</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigma.prior = SdPrior(sigma.guess = .1,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sample.size = 1,</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;upper.limit = 1),</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initial.state.prior = NormalPrior(0, 5))</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## Tell bsts that the observation equation should be a logistic regression by</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">## passing the 'family = "logit"' argument.</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ts.model &lt;- bsts(nber ~ ., ss, data = gdp, niter = 20000,a</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 9pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;family = "logit", expected.model.size = 10)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
The marginal posterior inclusion probabilities under this model are shown in Figure 10(b).  The top predictor is the same in both models, but posterior inclusion probabilities for the remaining predictors are smaller than in Figure 10(a).  To understand why, consider the distribution of $\mu_t$ shown in Figure 11. The figure shows $\mu_t$ moving to very large values during a recession, and to very small values outside of a recession.  This effect captures the strong serial dependence in the recession data.  Recessions are rare, but once they occur they tend to persist.  Assuming independent time points is therefore unrealistic, and it substantially overstates the amount of information available to identify logistic regression coefficients.  The spike and slab priors that <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> uses to identify predictors naturally produce sparser models in the face of less information, which is why Figure 10(b) shows fewer included coefficients.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="margin-left: 0pt;">
<table style="border-collapse: collapse; border: none; width: 468pt;"><colgroup><col width="*"></col><col width="*"></col></colgroup><tbody>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="nber-plain-regression-coefficients.png" height="297" src="https://lh6.googleusercontent.com/NZgat7vf_IkPSur9xhBblId_VWtgF7p2Y2pgd5R2EsUVGWPigTE9Ni8PjwwB-d6TqS0EjDfbmV6VjN20OIvaO-i6clgFsIAaFYr1R6u1Zg0lbSXK3owZCNZqjZovbJclTUZUzdkY" style="-webkit-transform: rotate(0.00rad); border: none; transform: rotate(0.00rad);" width="298" /></span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="nber-ts-regression-coefficients.png" height="297" src="https://lh4.googleusercontent.com/ebS6FTc2-9rgLZAhYIXJVKPXHU7EN3eday67IyFfHXfrssxYQagwXWNGMDEOnX-a7C2VczXqR1I9GI8yRbAwSTGKjbp3CMZFcnCDAflFh6eNbOzUk60PFCW297wn-hVzoteQS6QJ" style="border: none; transform: rotate(0rad);" width="298" /></span></div>
</td></tr>
<tr style="height: 0pt;"><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(a)</span></div>
</td><td style="padding: 5pt 5pt 5pt 5pt; vertical-align: top;"><div dir="ltr" style="line-height: 1.2; margin-bottom: 0pt; margin-top: 0pt; text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">(b)</span></div>
</td></tr>
</tbody></table>
</div>
<b style="font-weight: normal;"><br /></b>
<br />
<b>Figure 10:</b> Regression coefficients for the (a) plain logistic regression model and (b) time series logistic regression model under equivalent spike and slab priors.<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<div style="text-align: center;">
<span style="background-color: transparent; color: black; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="nber-bsts-logit.png" height="360" src="https://lh6.googleusercontent.com/sqp4YXyWER4Dc1Z0Pv5a691sf1eFe9yqcjm9kpVWJrl-bTQMMvE95Puckx0Qljrq6GkovUeB_3QJ2fKLenGTw7l3Ig60BsFgJBX0p-1MjmrUDGgWqyPwRe36FGgjCDP0drvkF_fn" style="border: none; transform: rotate(0rad);" width="360" /></span></div>
</div>
<b>Figure 11: </b>Distribution of state (on logit scale) for recession data.  Blue dots show the true presence or absence of a recession, as determined by official&nbsp;statistics.</div>
<div>
<br />
<h2>
 Conclusion</h2>
The preceding examples have shown that the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> software package can handle several nonstandard, but useful, time series applications.  These include the ability to handle large numbers of contemporaneous predictors with spike and slab priors, the presence of trend models suitable for long term forecasting, and the ability to handle non-Gaussian data.  We have run out of space, but <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> can do much more.<br />
<br />
For starters there are other state models you can use.  Bsts has elementary support for holidays.  It knows about 18 US holidays, and has capacity to add more, including holidays that occur on the same date each year, holidays that occur on a fixed weekday of a fixed month (e.g. 3rd Tuesday in February, or last Monday in November).  The model for each holiday is a simple random walk, but look for future versions to have improved holiday support via Bayesian shrinkage.</div>
<div>
<br /></div>
<div>
Bsts offers support for multiple seasonalities.  For example, if you have several weeks of hourly data then you will have an hour-of-day effect as well as a day-of-week effect.  You can model these using a single seasonal effect with 168 seasons (which would allow for different hourly effects on weekends and weekdays), or you can assume additive seasonal patterns using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">season.duration</span> argument to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddSeasonal</span>,<b style="font-weight: normal;"><br /></b>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss &lt;- AddSeasonal(ss, y, nseasons = 24)</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;">
<span style="background-color: transparent; color: black; font-family: &quot;courier new&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">ss &lt;- AddSeasonal(ss, y, nseasons = 7, season.duration = 24)</span></div>
<b style="font-weight: normal;"><br /></b>
<br />
The latter specifies that each daily effect should remain constant for 24 hours. For modeling physical phenomena, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> also offers trigonometric seasonal effects, which are sine and cosine waves with time varying coefficients.  You obtain these by calling <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddTrig</span>.  Time varying effects are available for arbitrary regressions with small numbers of predictor variables through a call to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddDynamicRegression</span>.<br />
<br />
In addition to the trend models discussed so far, the function <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">AddStudentLocalLinearTrend</span> gives a version of the local linear trend model that assumes student $t$ errors instead of Gaussian errors.  This is a useful state model for short term predictions when the mean of the time series exhibits occasional dramatic jumps.  Student $t$ errors can be introduced into the observation equation by passing the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">family = "student"</span> argument to the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> function call.  Allowing for heavy tailed errors in the observation equation makes the model robust against individual outliers, while heavy tails in the state model provides robustness against sudden persistent shifts in level or slope.  This can lead to tighter prediction limits than Gaussian models when modeling data that have been polluted by outliers.  The observation equation can also be set to a Poisson model for small count data if desired.<br />
<br />
Finally, the most recent update to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bsts</span> supports data with multiple observations at each time stamp.  The Gaussian version of the model is<br />
$$    y_{it} = \beta^T {\bf x}_{it} + Z_t^T\alpha_t + \epsilon_{it}$$
$$    \alpha_{t+1} = T_t \alpha_t + R_t \eta_t, $$<br />
which is best understood as a regression model with a time varying intercept.<br />
<br />
Bsts is a mature piece of software with a broad user base both inside and outside of Google.  It is the product of several years of development, and I expect to continue improving it for the foreseeable future.  I hope you find it useful.
<br />
<br />
<br />
<br />
<h2>
References</h2>
Albert, J. H. and Chib, S. (1993). Bayesian analysis of binary and polychotomous response data. <i>Journal of the American Statistical Association</i> <b>88</b>, 669&#8211;679.</div>
<div>
<br /></div>
<div>
Benoit, D. F. and Van Den Poel, D. (2012). Binary quantile regression: A Bayesian approach based on the asymmetric Laplace distribution. <i>Journal of Applied Econometrics</i> <b>27</b>, 1174&#8211;1188.<br />
<br />
Berge, T., Sinha, N., and Smolyansky, M. (2016). <a href="https://www.federalreserve.gov/econresdata/notes/feds-notes/2016/which-market-indicators-best-forecast-recessions-20160802.html" target="_blank">Which market indicators best forecast recessions</a>? Tech. rep., US Federal Reserve.<br />
<br />
Frhwirth-Schnatter, S. and Frhwirth, R. (2005). Auxiliary mixture sampling with applications to logistic models. Tech. rep., IFAS Research Paper Series, Department of Applied Statistics, Johannes Kepler University Linz.<br />
<br />
Frhwirth-Schnatter, S. and Frhwirth, R. (2010). <a href="http://www.jku.at/ifas/content/e108280/e146255/e146260/ifas_rp48.pdf" target="_blank">Data augmentation and MCMC for binary and multinomial logit models</a>. In T. Kneib and G. Tutz, eds., <i>Statistical Modelling and Regression Structures &#8211; Festschrift in Honour of Ludwig Fahrmeir</i>, 111&#8211;132. Physica-Verlag, Heidelberg. <br />
<br />
Frhwirth-Schnatter, S., Frhwirth, R., Held, L., and Rue, H. (2008). Improved auxiliary mixture sampling for hierarchical models of non-Gaussian data. <i>Statistics and Computing</i> <b>19</b>, 479.<br />
<br />
Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari, A., and Rubin, D. B. (2014). <i>Bayesian Data Analysis</i>. Chapman &amp; Hall, 3rd edn.<br />
<br />
Gramacy, R. B. and Polson, N. G. (2012). Simulation-based regularized logistic regression. <i>Bayesian Analysis</i> <b>7</b>, 567&#8211;590.<br />
<br />
Holmes, C. C. and Held, L. (2006). Bayesian auxiliary variable models for binary and multinomial regression. <i>Bayesian Analysis</i> <b>1</b>, 145&#8211;168.<br />
<br />
Petris, G. (2010). An R package for dynamic linear models. <i>Journal of Statistical Software</i> <b>36</b>, 1&#8211;16.<br />
<br />
Petris, G., Petrone, S., and Campagnoli, P. (2009). <i>Dynamic Linear Models with R.</i> useR! Springer-Verlag, New York.<br />
<br />
Polson, N. G. and Scott, S. L. (2011). Data augmentation for support vector machines. <i>Bayesian Analysis</i> <b>6</b>, 1&#8211;24. (with discussion).<br />
<br />
Scott, S. L. (2010). BoomSpikeSlab: MCMC for spike and slab regression. R package version 0.4.1.<br />
<br />
Scott, S. L. and Varian, H. R. (2014). Predicting the present with Bayesian structural time series. <i>International Journal of Mathematical Modelling and Numerical Optimisation</i> <b>5</b>, 4&#8211;23.<br />
<br />
Scott, S. L. and Varian, H. R. (2015). Bayesian variable selection for nowcasting economic time series. In A. Goldfarb, S. Greenstein, and C. Tucker, eds., <i>Economics of Digitization</i>, 119 &#8211;136. NBER Press, London.<br />
<br />
Tassone, E. and Rohani, F. (2017). Our quest for robust time series forecasting at scale. <a href="http://www.unofficialgoogledatascience.com/2017/04/our-quest-for-robust-time-series.html">http://www.unofficialgoogledatascience.com/2017/04/our-quest-for-robust-time-series.html</a>.<br />
<br />
Taylor, S. J. and Letham, B. (2017). Prophet: forecasting at scale. <a href="https://research.fb.com/prophet-forecasting-at-scale/" target="_blank">https://research.fb.com/prophet-forecasting-at-scale/</a></div>
</div>
<div class='post-bottom'>
<div class='post-footer float-container'>
<div class='post-footer-line post-footer-line-1'>
</div>
</div>
<div class='post-share-buttons post-share-buttons-bottom invisible'>
<div class='byline post-share-buttons goog-inline-block'>
<div aria-owns='sharing-popup-Blog1-byline-6693193164123748208' class='sharing' data-title='Fitting Bayesian structural time series with the bsts R package'>
<button aria-controls='sharing-popup-Blog1-byline-6693193164123748208' aria-label='Share' class='sharing-button touch-icon-button' id='sharing-button-Blog1-byline-6693193164123748208' role='button'>
<div class='flat-icon-button ripple'>
<svg class='svg-icon-24'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_share_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</div>
</button>
<div class='share-buttons-container'>
<ul aria-hidden='true' aria-label='Share' class='share-buttons hidden' id='sharing-popup-Blog1-byline-6693193164123748208' role='menu'>
<li>
<span aria-label='Get link' class='sharing-platform-button sharing-element-link' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Get link'>
<svg class='svg-icon-24 touch-icon sharing-link'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_link_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Get link</span>
</span>
</li>
<li>
<span aria-label='Share to Facebook' class='sharing-platform-button sharing-element-facebook' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=facebook' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Facebook'>
<svg class='svg-icon-24 touch-icon sharing-facebook'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_facebook_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Facebook</span>
</span>
</li>
<li>
<span aria-label='Share to Twitter' class='sharing-platform-button sharing-element-twitter' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=twitter' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Twitter'>
<svg class='svg-icon-24 touch-icon sharing-twitter'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_twitter_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Twitter</span>
</span>
</li>
<li>
<span aria-label='Share to Pinterest' class='sharing-platform-button sharing-element-pinterest' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=pinterest' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to Pinterest'>
<svg class='svg-icon-24 touch-icon sharing-pinterest'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_pinterest_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Pinterest</span>
</span>
</li>
<li>
<span aria-label='Email' class='sharing-platform-button sharing-element-email' data-href='https://www.blogger.com/share-post.g?blogID=5825758052688213474&postID=6693193164123748208&target=email' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Email'>
<svg class='svg-icon-24 touch-icon sharing-email'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_24_email_dark' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Email</span>
</span>
</li>
<li aria-hidden='true' class='hidden'>
<span aria-label='Share to other apps' class='sharing-platform-button sharing-element-other' data-url='http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html' role='menuitem' tabindex='-1' title='Share to other apps'>
<svg class='svg-icon-24 touch-icon sharing-sharingOther'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_more_horiz_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<span class='platform-sharing-text'>Other Apps</span>
</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class='comments threaded' data-embed='true' data-num-comments='18' id='comments'>
<a name='comments'></a>
<h3 class='title'>Comments</h3>
<div class='comments-content'>
<script async='async' src='' type='text/javascript'></script>
<script type='text/javascript'>(function(){var g=function(h,E,k){var l=null;h&&0<h.length&&(l=parseInt(h[h.length-1].timestamp,10)+1);var c=null,t=null,x=void 0,y=null,u=(window.location.hash||"#").substring(1),z,A;/^comment-form_/.test(u)?z=u.substring(13):/^c[0-9]+$/.test(u)&&(A=u.substring(1));var F={id:k.postId,data:h,loadNext:function(e){if(l){var f=k.feed+"?alt=json&v=2&orderby=published&reverse=false&max-results=50";l&&(f+="&published-min="+(new Date(l)).toISOString());window.bloggercomments=function(v){l=null;var p=[];if(v&&v.feed&&
v.feed.entry)for(var B=0,a;a=v.feed.entry[B];B++){var d={},b=/blog-(\d+).post-(\d+)/.exec(a.id.$t);d.id=b?b[2]:null;b=d;a:{var q=void 0;var C=a&&(a.content&&a.content.$t||a.summary&&a.summary.$t)||"";if(a&&a.gd$extendedProperty)for(q in a.gd$extendedProperty)if("blogger.contentRemoved"==a.gd$extendedProperty[q].name){q='<span class="deleted-comment">'+C+"</span>";break a}q=C}b.body=q;d.timestamp=Date.parse(a.published.$t)+"";a.author&&a.author.constructor===Array&&(b=a.author[0])&&(d.author={name:b.name?
b.name.$t:void 0,profileUrl:b.uri?b.uri.$t:void 0,avatarUrl:b.gd$image?b.gd$image.src:void 0});a.link&&(a.link[2]&&(d.link=d.permalink=a.link[2].href),a.link[3]&&(b=/.*comments\/default\/(\d+)\?.*/.exec(a.link[3].href))&&b[1]&&(d.parentId=b[1]));d.deleteclass="item-control blog-admin";if(a.gd$extendedProperty)for(var w in a.gd$extendedProperty)"blogger.itemClass"==a.gd$extendedProperty[w].name?d.deleteclass+=" "+a.gd$extendedProperty[w].value:"blogger.displayTime"==a.gd$extendedProperty[w].name&&
(d.displayTime=a.gd$extendedProperty[w].value);p.push(d)}l=50>p.length?null:parseInt(p[p.length-1].timestamp,10)+1;e(p);window.bloggercomments=null};var m=document.createElement("script");m.type="text/javascript";m.src=f+"&callback=bloggercomments";document.getElementsByTagName("head")[0].appendChild(m)}},hasMore:function(){return!!l},getMeta:function(e,f){return"iswriter"==e?f.author&&f.author.name==k.authorName&&f.author.profileUrl==k.authorUrl?"true":"":"deletelink"==e?k.baseUri+"/delete-comment.g?blogID="+
k.blogId+"&postID="+f.id:"deleteclass"==e?f.deleteclass:""},onReply:function(e,f){null==c&&(c=document.getElementById("comment-editor"),null!=c&&(y=c.style.height,c.style.display="block",t=c.src.split("#")));if(c&&e&&e!==x){document.getElementById(f).insertBefore(c,null);var m=t[0]+(e?"&parentID="+e:"");t[1]&&(m=m+"#"+t[1]);c.src=m;c.style.height=y||c.style.height;x=e;c.removeAttribute("data-resized");c.dispatchEvent(new Event("iframeMoved"))}},rendered:!0,initComment:A,initReplyThread:z,config:{maxDepth:k.maxThreadDepth},
messages:E};h=function(){window.goog&&window.goog.comments&&window.goog.comments.render(document.getElementById("comment-holder"),F)};window.goog&&window.goog.comments?h():(window.goog=window.goog||{},window.goog.comments=window.goog.comments||{},window.goog.comments.loadQueue=window.goog.comments.loadQueue||[],window.goog.comments.loadQueue.push(h))},n=["blogger","widgets","blog","initThreadedComments"],r=this||self;n[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+n[0]);
for(var D;n.length&&(D=n.shift());)n.length||void 0===g?r=r[D]&&r[D]!==Object.prototype[D]?r[D]:r[D]={}:r[D]=g;}).call(this);
</script>
<script type='text/javascript'>
    blogger.widgets.blog.initThreadedComments(
        null,
        null,
        {});
  </script>
<div id='comment-holder'>
<div class="comment-thread toplevel-thread"><ol id="top-ra"><li class="comment" id="c7339972007534392414"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04888785163016871630" rel="nofollow">Rebecca</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1500645390877#c7339972007534392414">July 21, 2017 at 6:56 AM</a></span></div><p class="comment-content">Very nice write up.  I&#39;m looking forward to trying out the support for multiple observations.  Are there any plans to incorporate grouped or hierarchical structures into bsts? I&#39;d love to see a cross between bsts/CausalImpact and hts.  </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7339972007534392414">Reply</a><span class="item-control blog-admin blog-admin pid-1204197063"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=7339972007534392414">Delete</a></span></span></div><div class="comment-replies"><div id="c7339972007534392414-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7339972007534392414-ra" class="thread-chrome thread-expanded"><div></div><div id="c7339972007534392414-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7339972007534392414">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7339972007534392414-ce"></div></li><li class="comment" id="c551512778863933155"><div class="avatar-image-container"><img src="//2.bp.blogspot.com/_JeAl7aR_iBo/SatQjgCuvQI/AAAAAAAAAA0/XPdhv6lrvT8/s35/Ramesh%2BPhoto.jpg" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/08501229666957431511" rel="nofollow">Ramesh Adavi</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1501076914964#c551512778863933155">July 26, 2017 at 6:48 AM</a></span></div><p class="comment-content">Wow. Finally a package that makes forecasting a well reasoned process!<br>  </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="551512778863933155">Reply</a><span class="item-control blog-admin blog-admin pid-67056288"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=551512778863933155">Delete</a></span></span></div><div class="comment-replies"><div id="c551512778863933155-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c551512778863933155-ra" class="thread-chrome thread-expanded"><div></div><div id="c551512778863933155-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="551512778863933155">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c551512778863933155-ce"></div></li><li class="comment" id="c1558553903250260710"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14532264814565369687" rel="nofollow">Richard B. Haynes</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1501677941700#c1558553903250260710">August 2, 2017 at 5:45 AM</a></span></div><p class="comment-content">Nice post</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="1558553903250260710">Reply</a><span class="item-control blog-admin blog-admin pid-513090093"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=1558553903250260710">Delete</a></span></span></div><div class="comment-replies"><div id="c1558553903250260710-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c1558553903250260710-ra" class="thread-chrome thread-expanded"><div></div><div id="c1558553903250260710-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1558553903250260710">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c1558553903250260710-ce"></div></li><li class="comment" id="c7314024551426238154"><div class="avatar-image-container"><img src="//lh5.googleusercontent.com/-ZsOcyTGrF34/AAAAAAAAAAI/AAAAAAAAGBM/npSsbTpV7jA/s35-c/photo.jpg" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/06869284127219223293" rel="nofollow">Richard Warnung</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1502713210887#c7314024551426238154">August 14, 2017 at 5:20 AM</a></span></div><p class="comment-content">Thank your this post and the work on the great package! For reproducibility: could you please tell me where to access the gdp data that you use in the logit-model? Thank you!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7314024551426238154">Reply</a><span class="item-control blog-admin blog-admin pid-2061483310"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=7314024551426238154">Delete</a></span></span></div><div class="comment-replies"><div id="c7314024551426238154-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7314024551426238154-ra" class="thread-chrome thread-expanded"><div></div><div id="c7314024551426238154-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7314024551426238154">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7314024551426238154-ce"></div></li><li class="comment" id="c7110843319453870101"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/18200904248716829538" rel="nofollow">Stephen Green</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1503469496787#c7110843319453870101">August 22, 2017 at 11:24 PM</a></span></div><p class="comment-content">Great post - thanks for sharing the insights.<br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7110843319453870101">Reply</a><span class="item-control blog-admin blog-admin pid-465941971"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=7110843319453870101">Delete</a></span></span></div><div class="comment-replies"><div id="c7110843319453870101-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7110843319453870101-ra" class="thread-chrome thread-expanded"><div></div><div id="c7110843319453870101-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7110843319453870101">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7110843319453870101-ce"></div></li><li class="comment" id="c2228178019142647179"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10028887085811248851" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1508978556073#c2228178019142647179">October 25, 2017 at 5:42 PM</a></span></div><p class="comment-content">Great but can&#39;t produce reproducible runs even keeping the &quot;seed&quot; optionconstant within the bats function. &#191;any idea why?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2228178019142647179">Reply</a><span class="item-control blog-admin blog-admin pid-2076823365"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=2228178019142647179">Delete</a></span></span></div><div class="comment-replies"><div id="c2228178019142647179-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2228178019142647179-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c463762509264694701"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/04888785163016871630" rel="nofollow">Rebecca</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1513090777861#c463762509264694701">December 12, 2017 at 6:59 AM</a></span></div><p class="comment-content">The predict function isn&#39;t setting a random seed.  I&#39;ve added that functionality in a forked version: https://github.com/rvessenes/bsts</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1204197063"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=463762509264694701">Delete</a></span></span></div><div class="comment-replies"><div id="c463762509264694701-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c463762509264694701-ra" class="thread-chrome thread-expanded"><div></div><div id="c463762509264694701-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="463762509264694701">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c463762509264694701-ce"></div></li><li class="comment" id="c3943714010215477562"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/08940281800677377787" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1513093307967#c3943714010215477562">December 12, 2017 at 7:41 AM</a></span></div><p class="comment-content">Thanks.  I&#39;ll make sure to set the seed in the next version pushed to CRAN.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-562757485"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=3943714010215477562">Delete</a></span></span></div><div class="comment-replies"><div id="c3943714010215477562-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3943714010215477562-ra" class="thread-chrome thread-expanded"><div></div><div id="c3943714010215477562-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3943714010215477562">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3943714010215477562-ce"></div></li></div><div id="c2228178019142647179-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2228178019142647179">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2228178019142647179-ce"></div></li><li class="comment" id="c458184778566705467"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/13086899484811195068" rel="nofollow">Rob</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1513035332098#c458184778566705467">December 11, 2017 at 3:35 PM</a></span></div><p class="comment-content">Thank you very much for this package. I have one question that I couldn&#39;t find the answer to anywhere - does this package take advantage of multi-core CPU setups?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="458184778566705467">Reply</a><span class="item-control blog-admin blog-admin pid-742333272"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=458184778566705467">Delete</a></span></span></div><div class="comment-replies"><div id="c458184778566705467-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c458184778566705467-ra" class="thread-chrome thread-expanded"><div></div><div id="c458184778566705467-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="458184778566705467">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c458184778566705467-ce"></div></li><li class="comment" id="c8320321724634238157"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14789275262337061174" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1513728861827#c8320321724634238157">December 19, 2017 at 4:14 PM</a></span></div><p class="comment-content">Brilliant! </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8320321724634238157">Reply</a><span class="item-control blog-admin blog-admin pid-1538548238"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=8320321724634238157">Delete</a></span></span></div><div class="comment-replies"><div id="c8320321724634238157-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8320321724634238157-ra" class="thread-chrome thread-expanded"><div></div><div id="c8320321724634238157-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8320321724634238157">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8320321724634238157-ce"></div></li><li class="comment" id="c4597131019393539433"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17013327996715715765" rel="nofollow">JZ</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1514399495212#c4597131019393539433">December 27, 2017 at 10:31 AM</a></span></div><p class="comment-content">Thank you for sharing this package and knowledge.  It is proving to be extremely useful in marketing data applications. <br><br>One challenging data set that I am working with has a mixture of steady state (advertising programs) and episodic (promotional sale days with both ads and email).  If anyone has an approach to recommend for the type of model to handle the episodic data I would appreciate any advice.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4597131019393539433">Reply</a><span class="item-control blog-admin blog-admin pid-248355537"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=4597131019393539433">Delete</a></span></span></div><div class="comment-replies"><div id="c4597131019393539433-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4597131019393539433-ra" class="thread-chrome thread-expanded"><div></div><div id="c4597131019393539433-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4597131019393539433">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4597131019393539433-ce"></div></li><li class="comment" id="c6300221084590865861"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07240578333511550710" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1514567014010#c6300221084590865861">December 29, 2017 at 9:03 AM</a></span></div><p class="comment-content">Thanks for this! Is there a way to prevent the forecast from forecasting negative values? I don&#39;t think it&#39;s possible for unemployment claims to be negative</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6300221084590865861">Reply</a><span class="item-control blog-admin blog-admin pid-562149497"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=6300221084590865861">Delete</a></span></span></div><div class="comment-replies"><div id="c6300221084590865861-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6300221084590865861-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c5497928642252019008"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/09244583913555051836" rel="nofollow">Roman Josue de las Heras Torres</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1515701871113#c5497928642252019008">January 11, 2018 at 12:17 PM</a></span></div><p class="comment-content">Sure, you can apply a Box-Cox Transformation, e.g. lambda = 0 (Log-Transform), on the time series before fitting the model. After which you need the apply the inverse Box-Cox transformation on predictions. In that way you ensure that the forecasts and confidence intervals are positive</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1043850764"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=5497928642252019008">Delete</a></span></span></div><div class="comment-replies"><div id="c5497928642252019008-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c5497928642252019008-ra" class="thread-chrome thread-expanded"><div></div><div id="c5497928642252019008-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5497928642252019008">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c5497928642252019008-ce"></div></li></div><div id="c6300221084590865861-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6300221084590865861">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6300221084590865861-ce"></div></li><li class="comment" id="c8493194508630014667"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/14522344992908406919" rel="nofollow">JZ</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1515968958523#c8493194508630014667">January 14, 2018 at 2:29 PM</a></span></div><p class="comment-content">I have been following the recent publication of large scale forecasting for google (on this blog), facebook prophet and others.   The common technique appears to be separating out holiday, seasonal and trend effects.  Including multi seasonal effects.   BSTS appears to be a solution to this.   I tried on some revenue data (daily for the last five years) and could not figure out how specify the dayofweek, weekly and quarterly seasons all with daily data.   If I aggregate weekly data then weekly forecast works really well.   Any thoughts as to why I can&#39;t do all of this in a single model and have the visibility into the components.   It appears that the trend soaks up some of the weekly seasonal information when the data is daily.   Would appreciate thoughts on how to to model with daily data.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8493194508630014667">Reply</a><span class="item-control blog-admin blog-admin pid-2061207220"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=8493194508630014667">Delete</a></span></span></div><div class="comment-replies"><div id="c8493194508630014667-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8493194508630014667-ra" class="thread-chrome thread-expanded"><div></div><div id="c8493194508630014667-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8493194508630014667">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8493194508630014667-ce"></div></li><li class="comment" id="c3617460870996319033"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/16889268969075037590" rel="nofollow">MM</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1523021942371#c3617460870996319033">April 6, 2018 at 6:39 AM</a></span></div><p class="comment-content">Thank you for great package! I try to understand why the holiday handling in BSTS only for daily TS works! Or in other words what is the difficulty to implement it in a general form. Is it possible to give me a formal (mathematical) description of holiday state component!? Thank you so much in advanced! </p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="3617460870996319033">Reply</a><span class="item-control blog-admin blog-admin pid-451959289"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=3617460870996319033">Delete</a></span></span></div><div class="comment-replies"><div id="c3617460870996319033-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3617460870996319033-ra" class="thread-chrome thread-expanded"><div></div><div id="c3617460870996319033-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3617460870996319033">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3617460870996319033-ce"></div></li><li class="comment" id="c8496815631943533488"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/15433015820624333125" rel="nofollow">RonnieOneal</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1528889787448#c8496815631943533488">June 13, 2018 at 4:36 AM</a></span></div><p class="comment-content">good post,thank you for this</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8496815631943533488">Reply</a><span class="item-control blog-admin blog-admin pid-1728062564"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=8496815631943533488">Delete</a></span></span></div><div class="comment-replies"><div id="c8496815631943533488-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8496815631943533488-ra" class="thread-chrome thread-expanded"><div></div><div id="c8496815631943533488-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8496815631943533488">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8496815631943533488-ce"></div></li><li class="comment" id="c2692813335944016550"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/-OrX-0_caMiY/AAAAAAAAAAI/AAAAAAAAAA4/-h0e7O1_ZLE/s35-c/photo.jpg" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17070566864532320285" rel="nofollow">Hemma Permal</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1529588920871#c2692813335944016550">June 21, 2018 at 6:48 AM</a></span></div><p class="comment-content">Hi Steve. When I tried to predict future values using model2 it shows error. <br><br>pred2 &lt;- predict(model2, horizon = 12).<br><br>Error in .ExtractPredictors(object, newdata, na.action = na.action) : <br>You need to supply &#39;newdata&#39; when making predictions with a bsts object that has a regression component.<br><br>How to predict future values using models with regression component?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2692813335944016550">Reply</a><span class="item-control blog-admin blog-admin pid-161950643"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=2692813335944016550">Delete</a></span></span></div><div class="comment-replies"><div id="c2692813335944016550-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2692813335944016550-ra" class="thread-chrome thread-expanded"><div></div><div id="c2692813335944016550-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2692813335944016550">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2692813335944016550-ce"></div></li><li class="comment" id="c7017890997545619617"><div class="avatar-image-container"><img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35" alt=""/></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/16293025310503178790" rel="nofollow">Unknown</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html?showComment=1532456411342#c7017890997545619617">July 24, 2018 at 11:20 AM</a></span></div><p class="comment-content">Could you provides some examples for dynamic regression i.e. prediction? I have some trouble using it. <br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7017890997545619617">Reply</a><span class="item-control blog-admin blog-admin pid-1882913838"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=5825758052688213474&amp;postID=7017890997545619617">Delete</a></span></span></div><div class="comment-replies"><div id="c7017890997545619617-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7017890997545619617-ra" class="thread-chrome thread-expanded"><div></div><div id="c7017890997545619617-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7017890997545619617">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7017890997545619617-ce"></div></li></ol><div id="top-continue" class="continue"><a class="comment-reply" target="_self">Add comment</a></div><div class="comment-replybox-thread" id="top-ce"></div><div class="loadmore hidden" data-post-id="6693193164123748208"><a target="_self">Load more...</a></div></div>
</div>
</div>
<p class='comment-footer'>
<div class='comment-form'>
<a name='comment-form'></a>
<h4 id='comment-post-message'>Post a Comment</h4>
<a href='https://www.blogger.com/comment-iframe.g?blogID=5825758052688213474&postID=6693193164123748208&skin=contempo&skin=contempo' id='comment-editor-src'></a>
<iframe allowtransparency='allowtransparency' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='90px' id='comment-editor' name='comment-editor' src='' width='100%'></iframe>
<script src='https://www.blogger.com/static/v1/jsbin/3820394884-comment_from_post_iframe.js' type='text/javascript'></script>
<script type='text/javascript'>
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
</p>
</section>
</article>
</div>
</div>
</div>
</main>
</div>
<footer class='footer section' id='footer' name='Footer'><div class='widget Attribution' data-version='2' id='Attribution1'>
<div class='widget-content'>
<div class='blogger'>
<a href='https://www.blogger.com' rel='nofollow'>
<svg class='svg-icon-24'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_post_blogger_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
Powered by Blogger
</a>
</div>
</div>
</div></footer>
</div>
</div>
</div>
<aside class='sidebar-container container sidebar-invisible' role='complementary'>
<div class='navigation'>
<button class='svg-icon-24-button flat-icon-button ripple sidebar-back'>
<svg class='svg-icon-24'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_arrow_back_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</button>
</div>
<div class='sidebar_top_wrapper no-items'>
<div class='sidebar_top no-items section' id='sidebar_top' name='Sidebar (Top)'>
</div>
</div>
<div class='sidebar_bottom section' id='sidebar_bottom' name='Sidebar (Bottom)'><div class='widget BlogArchive' data-version='2' id='BlogArchive1'>
<details class='collapsible extendable'>
<summary>
<div class='collapsible-title'>
<h3 class='title'>
Archive
</h3>
<svg class='svg-icon-24 chevron-down'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_expand_more_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
<svg class='svg-icon-24 chevron-up'>
<use xlink:href='/responsive/sprite_v1_6.css.svg#ic_expand_less_black_24dp' xmlns:xlink='http://www.w3.org/1999/xlink'></use>
</svg>
</div>
</summary>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<div class='first-items'>
<ul class='flat'>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2019/04/'>April 2019<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2018/07/'>July 2018<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2018/03/'>March 2018<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2018/01/'>January 2018<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2017/10/'>October 2017<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2017/07/'>July 2017<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2017/04/'>April 2017<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2017/03/'>March 2017<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2017/01/'>January 2017<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/10/'>October 2016<span class='post-count'>1</span></a>
</li>
</ul>
</div>
<div class='remaining-items'>
<ul class='flat'>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/09/'>September 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/08/'>August 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/07/'>July 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/06/'>June 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/05/'>May 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/03/'>March 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/02/'>February 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2016/01/'>January 2016<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2015/12/'>December 2015<span class='post-count'>1</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2015/11/'>November 2015<span class='post-count'>2</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2015/10/'>October 2015<span class='post-count'>2</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2015/09/'>September 2015<span class='post-count'>2</span></a>
</li>
<li class='archivedate'>
<a href='http://www.unofficialgoogledatascience.com/2015/08/'>August 2015<span class='post-count'>2</span></a>
</li>
</ul>
</div>
<span class='show-more pill-button'>Show more</span>
<span class='show-less hidden pill-button'>Show less</span>
</div>
</div>
</div>
</details>
</div>
</div>
</aside>
<script type="text/javascript" src="https://resources.blogblog.com/blogblog/data/res/1608028642-indie_compiled.js" async="true"></script>
<script type='text/javascript'>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-66929694-1', 'auto', 'blogger');
        ga('blogger.send', 'pageview');
      </script>

<script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/640298382-widgets.js"></script>
<script type='text/javascript'>
window['__wavt'] = 'AOuZoY6HR7rpOu7IGVeb1g7K2kMZbgaLPQ:1556283632390';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d5825758052688213474','//www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html','5825758052688213474');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '5825758052688213474', 'title': 'The Unofficial Google Data Science Blog', 'url': 'http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html', 'canonicalUrl': 'http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html', 'homepageUrl': 'http://www.unofficialgoogledatascience.com/', 'searchUrl': 'http://www.unofficialgoogledatascience.com/search', 'canonicalHomepageUrl': 'http://www.unofficialgoogledatascience.com/', 'blogspotFaviconUrl': 'http://www.unofficialgoogledatascience.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': true, 'httpsEnabled': false, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': 'UA-66929694-1', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Unofficial Google Data Science Blog - Atom\x22 href\x3d\x22http://www.unofficialgoogledatascience.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22The Unofficial Google Data Science Blog - RSS\x22 href\x3d\x22http://www.unofficialgoogledatascience.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Unofficial Google Data Science Blog - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/5825758052688213474/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22The Unofficial Google Data Science Blog - Atom\x22 href\x3d\x22http://www.unofficialgoogledatascience.com/feeds/6693193164123748208/comments/default\x22 /\x3e\n', 'meTag': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': false, 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/b1e9f650b2e5f9f3', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'disableGComments': true, 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'disableGooglePlus': true, 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '6693193164123748208', 'postImageThumbnailUrl': 'https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0\x3ds72-c', 'postImageUrl': 'https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0', 'pageName': 'Fitting Bayesian structural time series with the bsts R package', 'pageTitle': 'The Unofficial Google Data Science Blog: Fitting Bayesian structural time series with the bsts R package'}}, {'name': 'features', 'data': {'sharing_get_link_dialog': 'true', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'name': 'custom', 'localizedName': 'Custom', 'isResponsive': true, 'isAlternateRendering': false, 'isCustom': true, 'variant': 'indie_light', 'variantId': 'indie_light'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Fitting Bayesian structural time series with the bsts R package', 'description': 'by STEVEN L. SCOTT   Time series data are everywhere, but time series modeling is a fairly specialized area within statistics and data scien...', 'featuredImage': 'https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0', 'url': 'http://www.unofficialgoogledatascience.com/2017/07/fitting-bayesian-structural-time-series.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 6693193164123748208}}, {'name': 'widgets', 'data': [{'title': 'Search This Blog', 'type': 'BlogSearch', 'sectionId': 'search_top', 'id': 'BlogSearch1'}, {'title': 'The Unofficial Google Data Science Blog (Header)', 'type': 'Header', 'sectionId': 'header', 'id': 'Header1'}, {'title': '', 'type': 'PageList', 'sectionId': 'page_list_top', 'id': 'PageList1'}, {'title': 'Blog Posts', 'type': 'Blog', 'sectionId': 'page_body', 'id': 'Blog1', 'posts': [{'id': '6693193164123748208', 'title': 'Fitting Bayesian structural time series with the bsts R package', 'featuredImage': 'https://lh5.googleusercontent.com/e9pS3At33PjZ4yO5JID4JEv6bzIsdEs_XhOO2b_Cv4WrKKaZ2OrCqaoRxCLFEHJD3U-zt5X7MB-x7BNukQKPFzuYsQJYQk9wgFO52YA_2yDvgsy8iKaSPhF0d7FRKkiDa6ydj-H0', 'showInlineAds': false}], 'headerByline': {'regionName': 'header1', 'items': [{'name': 'share', 'label': ''}, {'name': 'timestamp', 'label': ''}]}, 'footerBylines': [{'regionName': 'footer1', 'items': [{'name': 'comments', 'label': 'comments'}]}], 'allBylineItems': [{'name': 'share', 'label': ''}, {'name': 'timestamp', 'label': ''}, {'name': 'comments', 'label': 'comments'}]}, {'type': 'Attribution', 'sectionId': 'footer', 'id': 'Attribution1'}, {'title': '', 'type': 'BlogArchive', 'sectionId': 'sidebar_bottom', 'id': 'BlogArchive1'}]}]);
_WidgetManager._RegisterWidget('_BlogSearchView', new _WidgetInfo('BlogSearch1', 'search_top', document.getElementById('BlogSearch1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PageListView', new _WidgetInfo('PageList1', 'page_list_top', document.getElementById('PageList1'), {'title': '', 'links': [{'isCurrentPage': false, 'href': 'http://www.unofficialgoogledatascience.com/', 'title': 'Home'}, {'isCurrentPage': false, 'href': 'http://www.unofficialgoogledatascience.com/p/about.html', 'id': '8495885157735034905', 'title': 'About this blog'}], 'mobile': false}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'page_body', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/1977841774-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer', document.getElementById('Attribution1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar_bottom', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
</script>
</body>
</html>